{"version":3,"sources":["webpack/bootstrap 01747eaed87633bb1c54","D:\\_src\\pydt\\api\\lib\\config.ts","external \"lodash\"","D:\\_src\\pydt\\api\\api\\framework\\index.ts","external \"tsoa\"","D:\\_src\\pydt\\api\\lib\\ioc.ts","external \"aws-sdk\"","D:\\_src\\pydt\\api\\lib\\dynamoose\\userRepository.ts","external \"winston\"","D:\\_src\\pydt\\api\\lib\\dynamoose\\common.ts","D:\\_src\\pydt\\api\\lib\\dynamoose\\gameRepository.ts","D:\\_src\\pydt\\api\\lib\\steamUtil.ts","external \"request-promise\"","D:\\_src\\pydt\\api\\lib\\auth\\jwtUtil.ts","D:\\_src\\pydt\\api\\lib\\models\\index.ts","D:\\_src\\pydt\\api\\lib\\discourse.ts","D:\\_src\\pydt\\api\\api\\router.ts","external \"express\"","D:\\_src\\pydt\\api\\api\\_gen\\routes\\routes.ts","external \"inversify\"","external \"inversify-binding-decorators\"","D:\\_src\\pydt\\api\\api\\controllers\\authController.ts","D:\\_src\\pydt\\api\\api\\framework\\errorResponse.ts","D:\\_src\\pydt\\api\\api\\framework\\httpRequest.ts","D:\\_src\\pydt\\api\\api\\framework\\httpResponse.ts","D:\\_src\\pydt\\api\\api\\framework\\httpResponseError.ts","external \"passport\"","external \"passport-steam\"","external \"dynamoose\"","external \"jsonwebtoken\"","external \"querystring\"","D:\\_src\\pydt\\api\\api\\controllers\\gameController.ts","D:\\_src\\pydt\\api\\lib\\models\\game.ts","D:\\_src\\pydt\\api\\lib\\services\\gameService.ts","D:\\_src\\pydt\\api\\lib\\dynamoose\\gameTurnRepository.ts","external \"civ6-save-parser\"","external \"zlib\"","external \"generate-password\"","D:\\_src\\pydt\\api\\lib\\sns.ts","external \"node-uuid\"","external \"bcryptjs\"","D:\\_src\\pydt\\api\\api\\controllers\\userController.ts","D:\\_src\\pydt\\api\\api\\controllers\\usersController.ts","D:\\_src\\pydt\\api\\lib\\auth\\expressAuthentication.ts","D:\\_src\\pydt\\api\\lib\\logging.ts","external \"winston-transport-rollbar\"","D:\\_src\\pydt\\api\\api\\_gen\\swagger\\swagger.json"],"names":[],"mappings":"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","file":"api/router.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 15);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap 01747eaed87633bb1c54","import * as AWS from 'aws-sdk';\r\nAWS.config.update({ region: 'us-east-1' });\r\n\r\nexport class Config {\r\n  public static activeStage() {\r\n    return process.env.SERVERLESS_STAGE as string;\r\n  }\r\n  public static resourcePrefix() {\r\n    return process.env.RESOURCE_PREFIX as string;\r\n  }\r\n  public static webUrl() {\r\n    return process.env.WEB_URL as string;\r\n  }\r\n  public static jwtSecret() {\r\n    return process.env.JWT_SECRET as string;\r\n  }\r\n  public static discourseApiKey() {\r\n    return process.env.DISCOURSE_API_KEY as string;\r\n  }\r\n  public static steamApiKey() {\r\n    return process.env.STEAM_API_KEY as string;\r\n  }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./lib/config.ts","module.exports = require(\"lodash\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"lodash\"\n// module id = 1\n// module chunks = 0","export * from './errorResponse';\r\nexport * from './httpRequest';\r\nexport * from './httpResponse';\r\nexport * from './httpResponseError';\r\nexport * from './lambdaProxyEvent';\r\nexport * from './lambdaProxyCallback';\r\nexport * from './lambdaProxyPayload';\r\n\n\n\n// WEBPACK FOOTER //\n// ./api/framework/index.ts","module.exports = require(\"tsoa\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"tsoa\"\n// module id = 3\n// module chunks = 0","import { Container, inject, interfaces } from 'inversify';\r\nimport { autoProvide, makeFluentProvideDecorator, makeProvideDecorator } from 'inversify-binding-decorators';\r\n\r\nconst iocContainer = new Container();\r\n\r\nconst provide = makeProvideDecorator(iocContainer);\r\nconst fluentProvider = makeFluentProvideDecorator(iocContainer);\r\n\r\nconst provideNamed = (\r\n  identifier: string | symbol | interfaces.Newable<any> | interfaces.Abstract<any>,\r\n  name: string,\r\n) => {\r\n  return fluentProvider(identifier)\r\n    .whenTargetNamed(name)\r\n    .done();\r\n};\r\n\r\nconst provideSingleton = (\r\n  identifier: string | symbol | interfaces.Newable<any> | interfaces.Abstract<any>,\r\n) => {\r\n  return fluentProvider(identifier)\r\n    .inSingletonScope()\r\n    .done();\r\n};\r\n\r\nexport { iocContainer, autoProvide, provide, provideSingleton, provideNamed, inject };\r\n\n\n\n// WEBPACK FOOTER //\n// ./lib/ioc.ts","module.exports = require(\"aws-sdk\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"aws-sdk\"\n// module id = 5\n// module chunks = 0","import { dynamoose, IRepository } from './common';\r\nimport { Config } from '../config';\r\nimport { User } from '../models/user';\r\nimport { Game } from '../models/game';\r\nimport * as _ from 'lodash';\r\n\r\nexport interface IUserRepository extends IRepository<string, User> {\r\n  createS3GameCacheKey(steamId: string): string;\r\n  getUsersForGame(game: Game): Promise<User[]>;\r\n}\r\n\r\nexport const userRepository = dynamoose.createVersionedModel(Config.resourcePrefix() + 'user', {\r\n  steamId: {\r\n    type: String,\r\n    hashKey: true\r\n  },\r\n  displayName: {\r\n    type: String,\r\n    required: true\r\n  },\r\n  avatarSmall: String,\r\n  avatarMedium: String,\r\n  avatarFull: String,\r\n  emailAddress: String,\r\n  activeGameIds: [String],\r\n  inactiveGameIds: [String],\r\n  turnsPlayed: {\r\n    type: Number,\r\n    default: 0\r\n  },\r\n  turnsSkipped: {\r\n    type: Number,\r\n    default: 0\r\n  },\r\n  timeTaken: {\r\n    type: Number,\r\n    default: 0\r\n  },\r\n  fastTurns: {\r\n    type: Number,\r\n    default: 0\r\n  },\r\n  slowTurns: {\r\n    type: Number,\r\n    default: 0\r\n  }\r\n}) as IUserRepository;\r\n\r\nuserRepository.createS3GameCacheKey = (steamId) => {\r\n  return steamId + '/' + 'gameCache.json';\r\n};\r\n\r\nuserRepository.getUsersForGame = game => {\r\n  const steamIds = _.compact(_.map(game.players, 'steamId'));\r\n  return userRepository.batchGet(steamIds).then(users => {\r\n    // make sure they're sorted correctly...\r\n    const playersWithSteamIds = _.filter(game.players, player => {\r\n      return !!player.steamId;\r\n    });\r\n\r\n    return _.map(playersWithSteamIds, player => {\r\n      return _.find(users, user => {\r\n        return user.steamId === player.steamId;\r\n      });\r\n    });\r\n  });\r\n};\r\n\n\n\n// WEBPACK FOOTER //\n// ./lib/dynamoose/userRepository.ts","module.exports = require(\"winston\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"winston\"\n// module id = 7\n// module chunks = 0","import * as baseDynamoose from 'dynamoose';\r\nimport * as _ from 'lodash';\r\n\r\nbaseDynamoose.setDefaults({\r\n  create: false\r\n});\r\n\r\nexport interface IRepository<TKey, TEntity> {\r\n  get(id: TKey): Promise<TEntity>;\r\n  delete(id: TKey): Promise<void>;\r\n  batchGet(ids: TKey[]): Promise<TEntity[]>;\r\n  saveVersioned(model: TEntity): Promise<TEntity>;\r\n  scan(column?: string): any;\r\n}\r\n\r\nexport const dynamoose: any = _.merge(baseDynamoose, {\r\n  createVersionedModel: (name, schema) => {\r\n    schema.version = {\r\n      type: Number,\r\n      default: 0,\r\n      set: function(value) {\r\n        return value + 1\r\n      }\r\n    };\r\n\r\n    const model = baseDynamoose.model(name, new baseDynamoose.Schema(schema, { timestamps: true }));\r\n\r\n    model.saveVersioned = (m) => {\r\n      if (!(m instanceof model)) {\r\n        m = new model(m);\r\n      }\r\n\r\n      return m.save({\r\n        condition: 'attribute_not_exists(version) OR version = :version',\r\n        conditionValues: { version: (m.version || 0) - 1 }\r\n      });\r\n    };\r\n\r\n    return model;\r\n  }\r\n});\r\n\n\n\n// WEBPACK FOOTER //\n// ./lib/dynamoose/common.ts","\r\nimport { IRepository, dynamoose } from './common';\r\nimport { Game, User } from '../models';\r\nimport { Config } from '../config';\r\nimport * as _ from 'lodash';\r\n\r\nexport interface IGameRepository extends IRepository<string, Game> {\r\n  getGamesForUser(user: User): Promise<Game[]>;\r\n}\r\n\r\nexport interface InternalGameRepository extends IGameRepository {\r\n  origBatchGet(ids: string[]): Promise<Game[]>;\r\n}\r\n\r\nconst internalGameRepository = dynamoose.createVersionedModel(Config.resourcePrefix() + 'game', {\r\n  gameId: {\r\n    type: String,\r\n    hashKey: true,\r\n    required: true\r\n  },\r\n  createdBySteamId: {\r\n    type: String,\r\n    required: true\r\n  },\r\n  dlc: [String],\r\n  inProgress: Boolean,\r\n  completed: Boolean,\r\n  hashedPassword: String,\r\n  displayName: {\r\n    type: String,\r\n    required: true\r\n  },\r\n  allowJoinAfterStart: Boolean,\r\n  description: String,\r\n  slots: Number,\r\n  humans: Number,\r\n  players: [\r\n    {\r\n      steamId: String,\r\n      civType: String,\r\n      hasSurrendered: Boolean,\r\n      turnsPlayed: {\r\n        type: Number,\r\n        default: 0\r\n      },\r\n      turnsSkipped: {\r\n        type: Number,\r\n        default: 0\r\n      },\r\n      timeTaken: {\r\n        type: Number,\r\n        default: 0\r\n      },\r\n      fastTurns: {\r\n        type: Number,\r\n        default: 0\r\n      },\r\n      slowTurns: {\r\n        type: Number,\r\n        default: 0\r\n      }\r\n    }\r\n  ],\r\n  discourseTopicId: Number,\r\n  currentPlayerSteamId: {\r\n    type: String,\r\n    required: true\r\n  },\r\n  turnTimerMinutes: Number,\r\n  round: {\r\n    type: Number,\r\n    required: true,\r\n    default: 1\r\n  },\r\n  gameTurnRangeKey: {\r\n    type: Number,\r\n    required: true,\r\n    default: 1\r\n  },\r\n  gameSpeed: String,\r\n  mapFile: String,\r\n  mapSize: String\r\n}) as InternalGameRepository;\r\n\r\nexport const gameRepository: IGameRepository = internalGameRepository;\r\n\r\nif (!internalGameRepository.origBatchGet) {\r\n  internalGameRepository.origBatchGet = internalGameRepository.batchGet;\r\n}\r\n\r\ngameRepository.batchGet = gameKeys => {\r\n  return internalGameRepository.origBatchGet(gameKeys).then(games => {\r\n    return _.orderBy(games, ['createdAt'], ['desc']);\r\n  });\r\n};\r\n\r\ngameRepository.getGamesForUser = user => {\r\n  const gameKeys = user.activeGameIds || [];\r\n\r\n  if (gameKeys.length > 0) {\r\n    return gameRepository.batchGet(gameKeys);\r\n  } else {\r\n    return Promise.resolve([]);\r\n  }\r\n};\r\n\n\n\n// WEBPACK FOOTER //\n// ./lib/dynamoose/gameRepository.ts","import { Config } from './config';\r\nimport { SteamProfile } from './models';\r\nimport * as passport from 'passport';\r\nimport * as passportSteam from 'passport-steam';\r\nimport * as rp from 'request-promise';\r\n\r\npassport.use(\r\n  new passportSteam.Strategy({\r\n    returnURL: Config.webUrl() + '/steamreturn',\r\n    realm: Config.webUrl(),\r\n    apiKey: Config.steamApiKey()\r\n  },\r\n  function(identifier, profile, done) {\r\n    done(null, {\r\n      identifier: identifier,\r\n      profile: profile\r\n    });\r\n  })\r\n);\r\n\r\nexport const steamPassport = passport;\r\n\r\nexport function getPlayerSummaries(steamIds: string[]): SteamProfile[] {\r\n  return rp({\r\n    uri: `http://api.steampowered.com/ISteamUser/GetPlayerSummaries/v0002/?key=${Config.steamApiKey()}&steamids=${steamIds}`,\r\n    json: true\r\n  }).then(resp => {\r\n    return resp.response.players;\r\n  });\r\n};\r\n\n\n\n// WEBPACK FOOTER //\n// ./lib/steamUtil.ts","module.exports = require(\"request-promise\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"request-promise\"\n// module id = 11\n// module chunks = 0","import * as jwt from 'jsonwebtoken';\r\nimport { PydtJwtPayload, FullJwtPayload } from './jwtPayload';\r\nimport { Config } from '../config';\r\n\r\nexport namespace JwtUtil {\r\n  export function createToken(payload: PydtJwtPayload): string {\r\n    return jwt.sign(payload, Config.jwtSecret());\r\n  }\r\n\r\n  export function parseToken(token: string): FullJwtPayload {\r\n    return jwt.verify(token, Config.jwtSecret()) as FullJwtPayload;\r\n  }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./lib/auth/jwtUtil.ts","export * from './game';\r\nexport * from './gamePlayer';\r\nexport * from './gameTurn';\r\nexport * from './steamProfile';\r\nexport * from './user';\r\n\n\n\n// WEBPACK FOOTER //\n// ./lib/models/index.ts","import * as rp from 'request-promise';\r\nimport { Config } from './config';\r\nimport { Game } from './models';\r\nimport * as winston from 'winston';\r\n\r\nexport function addDiscourseGameTopic(game: Game) {\r\n  if (Config.activeStage() === 'prod') {\r\n    return rp({\r\n      method: 'POST',\r\n      uri: `https://discourse.playyourdamnturn.com/posts/?api_key=${Config.discourseApiKey()}&api_username=system`,\r\n      form: {\r\n        title: `${game.displayName} (${game.gameId.substring(0, 8)})`,\r\n        raw: `Smack talk goes here for ${game.displayName}!  Game URL: https://playyourdamnturn.com/game/${game.gameId}`,\r\n        category: 5\r\n      },\r\n      json: true\r\n    });\r\n  } else {\r\n    winston.info(`Ignoring request to create discourse topic for game ${game.displayName}, stage is ${Config.activeStage()}`);\r\n    return Promise.resolve();\r\n  }\r\n};\r\n\r\nexport function deleteDiscourseGameTopic(game: Game) {\r\n  if (Config.activeStage() === 'prod') {\r\n    return rp({\r\n      method: 'DELETE',\r\n      uri: `https://discourse.playyourdamnturn.com/t/${game.discourseTopicId}?api_key=${Config.discourseApiKey()}&api_username=system`,\r\n      json: true\r\n    });\r\n  } else {\r\n    winston.info(`Ignoring request to delete discourse topic for game ${game.displayName}, stage is ${Config.activeStage()}`);\r\n    return Promise.resolve();\r\n  }\r\n};\r\n\n\n\n// WEBPACK FOOTER //\n// ./lib/discourse.ts","import { Router } from 'express';\r\nimport { RegisterRoutes } from './_gen/routes/routes';\r\nimport { ErrorResponse, HttpRequest, HttpResponse, HttpResponseError, LambdaProxyEvent, LambdaProxyCallback } from './framework';\r\nimport { configureLogging } from '../lib/logging';\r\nimport * as winston from 'winston';\r\n\r\nconfigureLogging();\r\n\r\nconst router = Router();\r\n\r\nrouter.get('/swagger.json', (req, res) => {\r\n  res.status(200).json(require('./_gen/swagger/swagger.json'));\r\n});\r\n\r\ntype middlewareExec = ((request: HttpRequest, response: HttpResponse, next: any) => void);\r\n\r\nfunction methodHandler(method: string) {\r\n  return function (route: string, ...routeExecs: middlewareExec[]) {\r\n    router[method](route, (req, res) => {\r\n      winston.info(`Found route ${route}`);\r\n\r\n      const runNext = (runExecs: middlewareExec[]) => {\r\n        const curExec: middlewareExec = runExecs[0];\r\n\r\n        curExec(req, res, (err) => {\r\n          if (err) {\r\n            let status = 500;\r\n            let message = 'There was an error processing your request.';\r\n            let logError = true;\r\n\r\n            if (err.constructor.name === 'InvalidRequestException') {\r\n              // TODO: These probably shouldn't go to an end user, they come from TSOA and look like:\r\n              // 'landingPageURL' is a required undefined parameter.\r\n              status = err.status;\r\n              message = err.message;\r\n              logError = false;\r\n            }\r\n\r\n            if (err instanceof HttpResponseError) {\r\n              status = err.statusCode;\r\n              message = err.message;\r\n              logError = false;\r\n            }\r\n\r\n            if (logError) {\r\n              winston.error(err);\r\n            }\r\n\r\n            res.status(status).json(new ErrorResponse(message));\r\n          } else if (runExecs.length > 1) {\r\n            runNext(runExecs.slice(1));\r\n          }\r\n        });\r\n      };\r\n\r\n      runNext(routeExecs);\r\n    });\r\n  };\r\n}\r\n\r\nconst mockApp = {\r\n  delete: methodHandler('delete'),\r\n  get: methodHandler('get'),\r\n  patch: methodHandler('patch'),\r\n  post: methodHandler('post'),\r\n  put: methodHandler('put')\r\n};\r\n\r\nRegisterRoutes(mockApp);\r\n\r\nexport function handler(event: LambdaProxyEvent, context, callback: LambdaProxyCallback) {\r\n  // Typeorm will prevent the event loop from emptying\r\n  context.callbackWaitsForEmptyEventLoop = false;\r\n\r\n  winston.info(`handling ${event.httpMethod} ${event.path}`);\r\n\r\n  const response = new HttpResponse(callback);\r\n\r\n  if (event.httpMethod.toLowerCase() === 'options') {\r\n    response.status(200).end();\r\n  } else {\r\n    (router as any).handle(new HttpRequest(event, response), response, err => {\r\n      winston.info(`404 for ${event.httpMethod} ${event.path}`);\r\n      response.status(404).json(new ErrorResponse('Not Found'));\r\n    });\r\n  }\r\n};\r\n\n\n\n// WEBPACK FOOTER //\n// ./api/router.ts","module.exports = require(\"express\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"express\"\n// module id = 16\n// module chunks = 0","/* tslint:disable */\r\nimport { Controller, ValidateParam, FieldErrors, ValidateError, TsoaRoute } from 'tsoa';\r\nimport { iocContainer } from './../../../lib/ioc';\r\nimport { AuthController } from './../../controllers/authController';\r\nimport { GameController } from './../../controllers/gameController';\r\nimport { UserController } from './../../controllers/userController';\r\nimport { UsersController } from './../../controllers/usersController';\r\nimport { expressAuthentication } from './../../../lib/auth/expressAuthentication';\r\n\r\nconst models: TsoaRoute.Models = {\r\n    \"AuthenticateResponse\": {\r\n        \"properties\": {\r\n            \"redirectURL\": { \"dataType\": \"string\", \"required\": true },\r\n        },\r\n    },\r\n    \"SteamProfile\": {\r\n        \"properties\": {\r\n            \"steamid\": { \"dataType\": \"string\", \"required\": true },\r\n            \"personaname\": { \"dataType\": \"string\", \"required\": true },\r\n            \"profileurl\": { \"dataType\": \"string\", \"required\": true },\r\n            \"avatar\": { \"dataType\": \"string\", \"required\": true },\r\n            \"avatarmedium\": { \"dataType\": \"string\", \"required\": true },\r\n            \"avatarfull\": { \"dataType\": \"string\", \"required\": true },\r\n        },\r\n    },\r\n    \"ValidateResponse\": {\r\n        \"properties\": {\r\n            \"token\": { \"dataType\": \"string\", \"required\": true },\r\n            \"steamProfile\": { \"ref\": \"SteamProfile\", \"required\": true },\r\n        },\r\n    },\r\n    \"GamePlayer\": {\r\n        \"properties\": {\r\n            \"steamId\": { \"dataType\": \"string\", \"required\": true },\r\n            \"civType\": { \"dataType\": \"string\", \"required\": true },\r\n            \"hasSurrendered\": { \"dataType\": \"boolean\" },\r\n            \"turnsPlayed\": { \"dataType\": \"double\" },\r\n            \"turnsSkipped\": { \"dataType\": \"double\" },\r\n            \"timeTaken\": { \"dataType\": \"double\" },\r\n            \"fastTurns\": { \"dataType\": \"double\" },\r\n            \"slowTurns\": { \"dataType\": \"double\" },\r\n        },\r\n    },\r\n    \"Game\": {\r\n        \"properties\": {\r\n            \"gameId\": { \"dataType\": \"string\", \"required\": true },\r\n            \"createdBySteamId\": { \"dataType\": \"string\", \"required\": true },\r\n            \"inProgress\": { \"dataType\": \"boolean\" },\r\n            \"hashedPassword\": { \"dataType\": \"string\" },\r\n            \"players\": { \"dataType\": \"array\", \"array\": { \"ref\": \"GamePlayer\" }, \"required\": true },\r\n            \"discourseTopicId\": { \"dataType\": \"double\" },\r\n            \"currentPlayerSteamId\": { \"dataType\": \"string\", \"required\": true },\r\n            \"turnTimerMinutes\": { \"dataType\": \"double\" },\r\n            \"round\": { \"dataType\": \"double\" },\r\n            \"gameTurnRangeKey\": { \"dataType\": \"double\" },\r\n            \"completed\": { \"dataType\": \"boolean\" },\r\n            \"createdAt\": { \"dataType\": \"datetime\" },\r\n            \"updatedAt\": { \"dataType\": \"datetime\" },\r\n            \"version\": { \"dataType\": \"double\" },\r\n            \"displayName\": { \"dataType\": \"string\", \"required\": true },\r\n            \"description\": { \"dataType\": \"string\", \"required\": true },\r\n            \"dlc\": { \"dataType\": \"array\", \"array\": { \"dataType\": \"string\" }, \"required\": true },\r\n            \"slots\": { \"dataType\": \"double\", \"required\": true },\r\n            \"humans\": { \"dataType\": \"double\", \"required\": true },\r\n            \"gameSpeed\": { \"dataType\": \"string\", \"required\": true },\r\n            \"mapFile\": { \"dataType\": \"string\", \"required\": true },\r\n            \"mapSize\": { \"dataType\": \"string\", \"required\": true },\r\n            \"allowJoinAfterStart\": { \"dataType\": \"boolean\" },\r\n        },\r\n    },\r\n    \"ErrorResponse\": {\r\n        \"properties\": {\r\n            \"message\": { \"dataType\": \"string\", \"required\": true },\r\n        },\r\n    },\r\n    \"ChangeCivRequestBody\": {\r\n        \"properties\": {\r\n            \"playerCiv\": { \"dataType\": \"string\", \"required\": true },\r\n        },\r\n    },\r\n    \"CreateGameRequestBody\": {\r\n        \"properties\": {\r\n            \"player1Civ\": { \"dataType\": \"string\", \"required\": true },\r\n            \"password\": { \"dataType\": \"string\", \"required\": true },\r\n            \"displayName\": { \"dataType\": \"string\", \"required\": true },\r\n            \"description\": { \"dataType\": \"string\", \"required\": true },\r\n            \"dlc\": { \"dataType\": \"array\", \"array\": { \"dataType\": \"string\" }, \"required\": true },\r\n            \"slots\": { \"dataType\": \"double\", \"required\": true },\r\n            \"humans\": { \"dataType\": \"double\", \"required\": true },\r\n            \"gameSpeed\": { \"dataType\": \"string\", \"required\": true },\r\n            \"mapFile\": { \"dataType\": \"string\", \"required\": true },\r\n            \"mapSize\": { \"dataType\": \"string\", \"required\": true },\r\n            \"allowJoinAfterStart\": { \"dataType\": \"boolean\" },\r\n        },\r\n    },\r\n    \"GameRequestBody\": {\r\n        \"properties\": {\r\n            \"password\": { \"dataType\": \"string\", \"required\": true },\r\n            \"displayName\": { \"dataType\": \"string\", \"required\": true },\r\n            \"description\": { \"dataType\": \"string\", \"required\": true },\r\n            \"dlc\": { \"dataType\": \"array\", \"array\": { \"dataType\": \"string\" }, \"required\": true },\r\n            \"slots\": { \"dataType\": \"double\", \"required\": true },\r\n            \"humans\": { \"dataType\": \"double\", \"required\": true },\r\n            \"gameSpeed\": { \"dataType\": \"string\", \"required\": true },\r\n            \"mapFile\": { \"dataType\": \"string\", \"required\": true },\r\n            \"mapSize\": { \"dataType\": \"string\", \"required\": true },\r\n            \"allowJoinAfterStart\": { \"dataType\": \"boolean\" },\r\n        },\r\n    },\r\n    \"JoinGameRequestBody\": {\r\n        \"properties\": {\r\n            \"password\": { \"dataType\": \"string\", \"required\": true },\r\n            \"playerCiv\": { \"dataType\": \"string\", \"required\": true },\r\n        },\r\n    },\r\n    \"OpenGamesResponse\": {\r\n        \"properties\": {\r\n            \"notStarted\": { \"dataType\": \"array\", \"array\": { \"ref\": \"Game\" }, \"required\": true },\r\n            \"openSlots\": { \"dataType\": \"array\", \"array\": { \"ref\": \"Game\" }, \"required\": true },\r\n        },\r\n    },\r\n    \"SurrenderBody\": {\r\n        \"properties\": {\r\n            \"kickUserId\": { \"dataType\": \"string\", \"required\": true },\r\n        },\r\n    },\r\n    \"GamesByUserResponse\": {\r\n        \"properties\": {\r\n            \"data\": { \"dataType\": \"array\", \"array\": { \"ref\": \"Game\" }, \"required\": true },\r\n            \"pollUrl\": { \"dataType\": \"string\", \"required\": true },\r\n        },\r\n    },\r\n    \"User\": {\r\n        \"properties\": {\r\n            \"steamId\": { \"dataType\": \"string\", \"required\": true },\r\n            \"displayName\": { \"dataType\": \"string\", \"required\": true },\r\n            \"avatarSmall\": { \"dataType\": \"string\", \"required\": true },\r\n            \"avatarMedium\": { \"dataType\": \"string\", \"required\": true },\r\n            \"avatarFull\": { \"dataType\": \"string\", \"required\": true },\r\n            \"emailAddress\": { \"dataType\": \"string\", \"required\": true },\r\n            \"activeGameIds\": { \"dataType\": \"array\", \"array\": { \"dataType\": \"string\" }, \"required\": true },\r\n            \"inactiveGameIds\": { \"dataType\": \"array\", \"array\": { \"dataType\": \"string\" }, \"required\": true },\r\n            \"turnsPlayed\": { \"dataType\": \"double\", \"required\": true },\r\n            \"turnsSkipped\": { \"dataType\": \"double\", \"required\": true },\r\n            \"timeTaken\": { \"dataType\": \"double\", \"required\": true },\r\n            \"fastTurns\": { \"dataType\": \"double\", \"required\": true },\r\n            \"slowTurns\": { \"dataType\": \"double\", \"required\": true },\r\n        },\r\n    },\r\n    \"SetNotificationEmailBody\": {\r\n        \"properties\": {\r\n            \"emailAddress\": { \"dataType\": \"string\", \"required\": true },\r\n        },\r\n    },\r\n};\r\n\r\nexport function RegisterRoutes(app: any) {\r\n    app.get('/auth/steam',\r\n        function(request: any, response: any, next: any) {\r\n            const args = {\r\n            };\r\n\r\n            let validatedArgs: any[] = [];\r\n            try {\r\n                validatedArgs = getValidatedArgs(args, request);\r\n            } catch (err) {\r\n                return next(err);\r\n            }\r\n\r\n            const controller = iocContainer.get<AuthController>(AuthController);\r\n\r\n\r\n            const promise = controller.authenticate.apply(controller, validatedArgs);\r\n            promiseHandler(controller, promise, response, next);\r\n        });\r\n    app.get('/auth/steam/validate',\r\n        function(request: any, response: any, next: any) {\r\n            const args = {\r\n                request: { \"in\": \"request\", \"name\": \"request\", \"required\": true, \"dataType\": \"object\" },\r\n            };\r\n\r\n            let validatedArgs: any[] = [];\r\n            try {\r\n                validatedArgs = getValidatedArgs(args, request);\r\n            } catch (err) {\r\n                return next(err);\r\n            }\r\n\r\n            const controller = iocContainer.get<AuthController>(AuthController);\r\n\r\n\r\n            const promise = controller.validate.apply(controller, validatedArgs);\r\n            promiseHandler(controller, promise, response, next);\r\n        });\r\n    app.post('/game/:gameId/changeCiv',\r\n        authenticateMiddleware([{ \"name\": \"api_key\" }]),\r\n        function(request: any, response: any, next: any) {\r\n            const args = {\r\n                request: { \"in\": \"request\", \"name\": \"request\", \"required\": true, \"dataType\": \"object\" },\r\n                gameId: { \"in\": \"path\", \"name\": \"gameId\", \"required\": true, \"dataType\": \"string\" },\r\n                body: { \"in\": \"body\", \"name\": \"body\", \"required\": true, \"ref\": \"ChangeCivRequestBody\" },\r\n            };\r\n\r\n            let validatedArgs: any[] = [];\r\n            try {\r\n                validatedArgs = getValidatedArgs(args, request);\r\n            } catch (err) {\r\n                return next(err);\r\n            }\r\n\r\n            const controller = iocContainer.get<GameController>(GameController);\r\n\r\n\r\n            const promise = controller.changeCiv.apply(controller, validatedArgs);\r\n            promiseHandler(controller, promise, response, next);\r\n        });\r\n    app.post('/game/create',\r\n        authenticateMiddleware([{ \"name\": \"api_key\" }]),\r\n        function(request: any, response: any, next: any) {\r\n            const args = {\r\n                request: { \"in\": \"request\", \"name\": \"request\", \"required\": true, \"dataType\": \"object\" },\r\n                body: { \"in\": \"body\", \"name\": \"body\", \"required\": true, \"ref\": \"CreateGameRequestBody\" },\r\n            };\r\n\r\n            let validatedArgs: any[] = [];\r\n            try {\r\n                validatedArgs = getValidatedArgs(args, request);\r\n            } catch (err) {\r\n                return next(err);\r\n            }\r\n\r\n            const controller = iocContainer.get<GameController>(GameController);\r\n\r\n\r\n            const promise = controller.create.apply(controller, validatedArgs);\r\n            promiseHandler(controller, promise, response, next);\r\n        });\r\n    app.post('/game/:gameId/delete',\r\n        authenticateMiddleware([{ \"name\": \"api_key\" }]),\r\n        function(request: any, response: any, next: any) {\r\n            const args = {\r\n                request: { \"in\": \"request\", \"name\": \"request\", \"required\": true, \"dataType\": \"object\" },\r\n                gameId: { \"in\": \"path\", \"name\": \"gameId\", \"required\": true, \"dataType\": \"string\" },\r\n            };\r\n\r\n            let validatedArgs: any[] = [];\r\n            try {\r\n                validatedArgs = getValidatedArgs(args, request);\r\n            } catch (err) {\r\n                return next(err);\r\n            }\r\n\r\n            const controller = iocContainer.get<GameController>(GameController);\r\n\r\n\r\n            const promise = controller.delete.apply(controller, validatedArgs);\r\n            promiseHandler(controller, promise, response, next);\r\n        });\r\n    app.post('/game/:gameId/edit',\r\n        authenticateMiddleware([{ \"name\": \"api_key\" }]),\r\n        function(request: any, response: any, next: any) {\r\n            const args = {\r\n                request: { \"in\": \"request\", \"name\": \"request\", \"required\": true, \"dataType\": \"object\" },\r\n                gameId: { \"in\": \"path\", \"name\": \"gameId\", \"required\": true, \"dataType\": \"string\" },\r\n                body: { \"in\": \"body\", \"name\": \"body\", \"required\": true, \"ref\": \"GameRequestBody\" },\r\n            };\r\n\r\n            let validatedArgs: any[] = [];\r\n            try {\r\n                validatedArgs = getValidatedArgs(args, request);\r\n            } catch (err) {\r\n                return next(err);\r\n            }\r\n\r\n            const controller = iocContainer.get<GameController>(GameController);\r\n\r\n\r\n            const promise = controller.edit.apply(controller, validatedArgs);\r\n            promiseHandler(controller, promise, response, next);\r\n        });\r\n    app.post('/game/:gameId/join',\r\n        authenticateMiddleware([{ \"name\": \"api_key\" }]),\r\n        function(request: any, response: any, next: any) {\r\n            const args = {\r\n                request: { \"in\": \"request\", \"name\": \"request\", \"required\": true, \"dataType\": \"object\" },\r\n                gameId: { \"in\": \"path\", \"name\": \"gameId\", \"required\": true, \"dataType\": \"string\" },\r\n                body: { \"in\": \"body\", \"name\": \"body\", \"required\": true, \"ref\": \"JoinGameRequestBody\" },\r\n            };\r\n\r\n            let validatedArgs: any[] = [];\r\n            try {\r\n                validatedArgs = getValidatedArgs(args, request);\r\n            } catch (err) {\r\n                return next(err);\r\n            }\r\n\r\n            const controller = iocContainer.get<GameController>(GameController);\r\n\r\n\r\n            const promise = controller.join.apply(controller, validatedArgs);\r\n            promiseHandler(controller, promise, response, next);\r\n        });\r\n    app.post('/game/:gameId/leave',\r\n        authenticateMiddleware([{ \"name\": \"api_key\" }]),\r\n        function(request: any, response: any, next: any) {\r\n            const args = {\r\n                request: { \"in\": \"request\", \"name\": \"request\", \"required\": true, \"dataType\": \"object\" },\r\n                gameId: { \"in\": \"path\", \"name\": \"gameId\", \"required\": true, \"dataType\": \"string\" },\r\n            };\r\n\r\n            let validatedArgs: any[] = [];\r\n            try {\r\n                validatedArgs = getValidatedArgs(args, request);\r\n            } catch (err) {\r\n                return next(err);\r\n            }\r\n\r\n            const controller = iocContainer.get<GameController>(GameController);\r\n\r\n\r\n            const promise = controller.leave.apply(controller, validatedArgs);\r\n            promiseHandler(controller, promise, response, next);\r\n        });\r\n    app.get('/game/listOpen',\r\n        function(request: any, response: any, next: any) {\r\n            const args = {\r\n                request: { \"in\": \"request\", \"name\": \"request\", \"required\": true, \"dataType\": \"object\" },\r\n            };\r\n\r\n            let validatedArgs: any[] = [];\r\n            try {\r\n                validatedArgs = getValidatedArgs(args, request);\r\n            } catch (err) {\r\n                return next(err);\r\n            }\r\n\r\n            const controller = iocContainer.get<GameController>(GameController);\r\n\r\n\r\n            const promise = controller.listOpen.apply(controller, validatedArgs);\r\n            promiseHandler(controller, promise, response, next);\r\n        });\r\n    app.post('/game/:gameId/start',\r\n        authenticateMiddleware([{ \"name\": \"api_key\" }]),\r\n        function(request: any, response: any, next: any) {\r\n            const args = {\r\n                request: { \"in\": \"request\", \"name\": \"request\", \"required\": true, \"dataType\": \"object\" },\r\n                gameId: { \"in\": \"path\", \"name\": \"gameId\", \"required\": true, \"dataType\": \"string\" },\r\n            };\r\n\r\n            let validatedArgs: any[] = [];\r\n            try {\r\n                validatedArgs = getValidatedArgs(args, request);\r\n            } catch (err) {\r\n                return next(err);\r\n            }\r\n\r\n            const controller = iocContainer.get<GameController>(GameController);\r\n\r\n\r\n            const promise = controller.start.apply(controller, validatedArgs);\r\n            promiseHandler(controller, promise, response, next);\r\n        });\r\n    app.post('/game/:gameId/surrender',\r\n        authenticateMiddleware([{ \"name\": \"api_key\" }]),\r\n        function(request: any, response: any, next: any) {\r\n            const args = {\r\n                request: { \"in\": \"request\", \"name\": \"request\", \"required\": true, \"dataType\": \"object\" },\r\n                gameId: { \"in\": \"path\", \"name\": \"gameId\", \"required\": true, \"dataType\": \"string\" },\r\n                body: { \"in\": \"body\", \"name\": \"body\", \"required\": true, \"ref\": \"SurrenderBody\" },\r\n            };\r\n\r\n            let validatedArgs: any[] = [];\r\n            try {\r\n                validatedArgs = getValidatedArgs(args, request);\r\n            } catch (err) {\r\n                return next(err);\r\n            }\r\n\r\n            const controller = iocContainer.get<GameController>(GameController);\r\n\r\n\r\n            const promise = controller.surrender.apply(controller, validatedArgs);\r\n            promiseHandler(controller, promise, response, next);\r\n        });\r\n    app.get('/game/:gameId',\r\n        function(request: any, response: any, next: any) {\r\n            const args = {\r\n                request: { \"in\": \"request\", \"name\": \"request\", \"required\": true, \"dataType\": \"object\" },\r\n                gameId: { \"in\": \"path\", \"name\": \"gameId\", \"required\": true, \"dataType\": \"string\" },\r\n            };\r\n\r\n            let validatedArgs: any[] = [];\r\n            try {\r\n                validatedArgs = getValidatedArgs(args, request);\r\n            } catch (err) {\r\n                return next(err);\r\n            }\r\n\r\n            const controller = iocContainer.get<GameController>(GameController);\r\n\r\n\r\n            const promise = controller.get.apply(controller, validatedArgs);\r\n            promiseHandler(controller, promise, response, next);\r\n        });\r\n    app.get('/user/games',\r\n        authenticateMiddleware([{ \"name\": \"api_key\" }]),\r\n        function(request: any, response: any, next: any) {\r\n            const args = {\r\n                request: { \"in\": \"request\", \"name\": \"request\", \"required\": true, \"dataType\": \"object\" },\r\n            };\r\n\r\n            let validatedArgs: any[] = [];\r\n            try {\r\n                validatedArgs = getValidatedArgs(args, request);\r\n            } catch (err) {\r\n                return next(err);\r\n            }\r\n\r\n            const controller = iocContainer.get<UserController>(UserController);\r\n\r\n\r\n            const promise = controller.games.apply(controller, validatedArgs);\r\n            promiseHandler(controller, promise, response, next);\r\n        });\r\n    app.get('/user/',\r\n        authenticateMiddleware([{ \"name\": \"api_key\" }]),\r\n        function(request: any, response: any, next: any) {\r\n            const args = {\r\n                request: { \"in\": \"request\", \"name\": \"request\", \"required\": true, \"dataType\": \"object\" },\r\n            };\r\n\r\n            let validatedArgs: any[] = [];\r\n            try {\r\n                validatedArgs = getValidatedArgs(args, request);\r\n            } catch (err) {\r\n                return next(err);\r\n            }\r\n\r\n            const controller = iocContainer.get<UserController>(UserController);\r\n\r\n\r\n            const promise = controller.all.apply(controller, validatedArgs);\r\n            promiseHandler(controller, promise, response, next);\r\n        });\r\n    app.get('/user/getCurrent',\r\n        authenticateMiddleware([{ \"name\": \"api_key\" }]),\r\n        function(request: any, response: any, next: any) {\r\n            const args = {\r\n                request: { \"in\": \"request\", \"name\": \"request\", \"required\": true, \"dataType\": \"object\" },\r\n            };\r\n\r\n            let validatedArgs: any[] = [];\r\n            try {\r\n                validatedArgs = getValidatedArgs(args, request);\r\n            } catch (err) {\r\n                return next(err);\r\n            }\r\n\r\n            const controller = iocContainer.get<UserController>(UserController);\r\n\r\n\r\n            const promise = controller.getCurrent.apply(controller, validatedArgs);\r\n            promiseHandler(controller, promise, response, next);\r\n        });\r\n    app.post('/user/setNotificationEmail',\r\n        authenticateMiddleware([{ \"name\": \"api_key\" }]),\r\n        function(request: any, response: any, next: any) {\r\n            const args = {\r\n                request: { \"in\": \"request\", \"name\": \"request\", \"required\": true, \"dataType\": \"object\" },\r\n                body: { \"in\": \"body\", \"name\": \"body\", \"required\": true, \"ref\": \"SetNotificationEmailBody\" },\r\n            };\r\n\r\n            let validatedArgs: any[] = [];\r\n            try {\r\n                validatedArgs = getValidatedArgs(args, request);\r\n            } catch (err) {\r\n                return next(err);\r\n            }\r\n\r\n            const controller = iocContainer.get<UserController>(UserController);\r\n\r\n\r\n            const promise = controller.setNotificationEmail.apply(controller, validatedArgs);\r\n            promiseHandler(controller, promise, response, next);\r\n        });\r\n    app.get('/user/steamProfile',\r\n        authenticateMiddleware([{ \"name\": \"api_key\" }]),\r\n        function(request: any, response: any, next: any) {\r\n            const args = {\r\n                request: { \"in\": \"request\", \"name\": \"request\", \"required\": true, \"dataType\": \"object\" },\r\n            };\r\n\r\n            let validatedArgs: any[] = [];\r\n            try {\r\n                validatedArgs = getValidatedArgs(args, request);\r\n            } catch (err) {\r\n                return next(err);\r\n            }\r\n\r\n            const controller = iocContainer.get<UserController>(UserController);\r\n\r\n\r\n            const promise = controller.steamProfile.apply(controller, validatedArgs);\r\n            promiseHandler(controller, promise, response, next);\r\n        });\r\n    app.get('/user/steamProfiles',\r\n        function(request: any, response: any, next: any) {\r\n            const args = {\r\n                rawSteamIds: { \"in\": \"query\", \"name\": \"steamIds\", \"required\": true, \"dataType\": \"string\" },\r\n            };\r\n\r\n            let validatedArgs: any[] = [];\r\n            try {\r\n                validatedArgs = getValidatedArgs(args, request);\r\n            } catch (err) {\r\n                return next(err);\r\n            }\r\n\r\n            const controller = iocContainer.get<UserController>(UserController);\r\n\r\n\r\n            const promise = controller.steamProfiles.apply(controller, validatedArgs);\r\n            promiseHandler(controller, promise, response, next);\r\n        });\r\n    app.get('/user/:steamId',\r\n        function(request: any, response: any, next: any) {\r\n            const args = {\r\n                request: { \"in\": \"request\", \"name\": \"request\", \"required\": true, \"dataType\": \"object\" },\r\n                steamId: { \"in\": \"path\", \"name\": \"steamId\", \"required\": true, \"dataType\": \"string\" },\r\n            };\r\n\r\n            let validatedArgs: any[] = [];\r\n            try {\r\n                validatedArgs = getValidatedArgs(args, request);\r\n            } catch (err) {\r\n                return next(err);\r\n            }\r\n\r\n            const controller = iocContainer.get<UserController>(UserController);\r\n\r\n\r\n            const promise = controller.byId.apply(controller, validatedArgs);\r\n            promiseHandler(controller, promise, response, next);\r\n        });\r\n    app.get('/users/',\r\n        function(request: any, response: any, next: any) {\r\n            const args = {\r\n                request: { \"in\": \"request\", \"name\": \"request\", \"required\": true, \"dataType\": \"object\" },\r\n            };\r\n\r\n            let validatedArgs: any[] = [];\r\n            try {\r\n                validatedArgs = getValidatedArgs(args, request);\r\n            } catch (err) {\r\n                return next(err);\r\n            }\r\n\r\n            const controller = iocContainer.get<UsersController>(UsersController);\r\n\r\n\r\n            const promise = controller.all.apply(controller, validatedArgs);\r\n            promiseHandler(controller, promise, response, next);\r\n        });\r\n\r\n    function authenticateMiddleware(security: TsoaRoute.Security[] = []) {\r\n        return (request: any, response: any, next: any) => {\r\n            let responded = 0;\r\n            let success = false;\r\n            for (const secMethod of security) {\r\n                expressAuthentication(request, secMethod.name, secMethod.scopes).then((user: any) => {\r\n                    // only need to respond once\r\n                    if (!success) {\r\n                        success = true;\r\n                        responded++;\r\n                        request['user'] = user;\r\n                        next();\r\n                    }\r\n                })\r\n                    .catch((error: any) => {\r\n                        responded++;\r\n                        if (responded == security.length && !success) {\r\n                            response.status(401);\r\n                            next(error)\r\n                        }\r\n                    })\r\n            }\r\n        }\r\n    }\r\n\r\n    function promiseHandler(controllerObj: any, promise: any, response: any, next: any) {\r\n        return Promise.resolve(promise)\r\n            .then((data: any) => {\r\n                let statusCode;\r\n                if (controllerObj instanceof Controller) {\r\n                    const controller = controllerObj as Controller\r\n                    const headers = controller.getHeaders();\r\n                    Object.keys(headers).forEach((name: string) => {\r\n                        response.set(name, headers[name]);\r\n                    });\r\n\r\n                    statusCode = controller.getStatus();\r\n                }\r\n\r\n                if (data) {\r\n                    response.status(statusCode | 200).json(data);\r\n                } else {\r\n                    response.status(statusCode | 204).end();\r\n                }\r\n            })\r\n            .catch((error: any) => next(error));\r\n    }\r\n\r\n    function getValidatedArgs(args: any, request: any): any[] {\r\n        const fieldErrors: FieldErrors = {};\r\n        const values = Object.keys(args).map((key) => {\r\n            const name = args[key].name;\r\n            switch (args[key].in) {\r\n                case 'request':\r\n                    return request;\r\n                case 'query':\r\n                    return ValidateParam(args[key], request.query[name], models, name, fieldErrors);\r\n                case 'path':\r\n                    return ValidateParam(args[key], request.params[name], models, name, fieldErrors);\r\n                case 'header':\r\n                    return ValidateParam(args[key], request.header(name), models, name, fieldErrors);\r\n                case 'body':\r\n                    return ValidateParam(args[key], request.body, models, name, fieldErrors, name + '.');\r\n                case 'body-prop':\r\n                    return ValidateParam(args[key], request.body[name], models, name, fieldErrors, 'body.');\r\n            }\r\n        });\r\n        if (Object.keys(fieldErrors).length > 0) {\r\n            throw new ValidateError(fieldErrors, '');\r\n        }\r\n        return values;\r\n    }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./api/_gen/routes/routes.ts","module.exports = require(\"inversify\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"inversify\"\n// module id = 18\n// module chunks = 0","module.exports = require(\"inversify-binding-decorators\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"inversify-binding-decorators\"\n// module id = 19\n// module chunks = 0","import { HttpRequest, HttpResponseError } from '../framework';\r\nimport { Get, Route, Request } from 'tsoa';\r\nimport { provideSingleton } from '../../lib/ioc';\r\nimport { steamPassport } from '../../lib/steamUtil';\r\nimport { User, SteamProfile } from '../../lib/models';\r\nimport { userRepository } from '../../lib/dynamoose/userRepository';\r\nimport { JwtUtil } from '../../lib/auth/jwtUtil';\r\nimport * as winston from 'winston';\r\nimport * as querystring from 'querystring';\r\n\r\n@Route('auth')\r\n@provideSingleton(AuthController)\r\nexport class AuthController {\r\n  @Get('steam')\r\n  public authenticate(): Promise<AuthenticateResponse> {\r\n    return new Promise((resolve, reject) => {\r\n      let location = null;\r\n\r\n      // Since passport expects to work with something like express,\r\n      // mock the req/res/next middleware format...\r\n      const req = {};\r\n      const res = {\r\n        setHeader: (key, value) => {\r\n          if (key === 'Location') {\r\n            location = value;\r\n          }\r\n        },\r\n        end: () => {\r\n          resolve({\r\n            redirectURL: location\r\n          });\r\n        }\r\n      };\r\n      const next = () => {\r\n        // Nothing to do here\r\n      };\r\n\r\n      steamPassport.authenticate('steam', (err, user, info) => {\r\n        if (err) {\r\n          reject(err);\r\n        } else {\r\n          winston.info('Callback called without error?', user, info);\r\n        }\r\n      })(req, res, next);\r\n    });\r\n  }\r\n\r\n  @Get('steam/validate')\r\n  public validate(@Request() request: HttpRequest): Promise<ValidateResponse> {\r\n    return new Promise((resolve, reject) => {\r\n      const req = {\r\n        query: request.query,\r\n        url: '/blah?' + querystring.stringify(request.query)\r\n      };\r\n      const res = {\r\n        setHeader: (key, value) => {\r\n          if (key === 'Location') {\r\n            // We shouldn't get here in validate...\r\n            reject(new HttpResponseError(400, 'Bad Request'));\r\n          }\r\n        }\r\n      };\r\n      const next = () => {\r\n        // We shouldn't get here in validate...\r\n        reject(new HttpResponseError(400, 'Bad Request'));\r\n      };\r\n\r\n      steamPassport.authenticate('steam', (err, user, info) => {\r\n        if (err) {\r\n          reject(err);\r\n        } else {\r\n          userRepository.get(user.profile.id).then(dbUser => {\r\n            if (!dbUser) {\r\n              dbUser = {\r\n                steamId: user.profile.id\r\n              } as User;\r\n            }\r\n\r\n            const steamProfile = user.profile._json as SteamProfile;\r\n\r\n            dbUser.displayName = user.profile.displayName;\r\n            dbUser.avatarSmall = steamProfile.avatar;\r\n            dbUser.avatarMedium = steamProfile.avatarmedium;\r\n            dbUser.avatarFull = steamProfile.avatarfull;\r\n            return userRepository.saveVersioned(dbUser);\r\n          }).then(() => {\r\n            resolve({\r\n              token: JwtUtil.createToken({ steamId: user.profile.id }),\r\n              steamProfile: user.profile._json\r\n            });\r\n          }).catch(perr => {\r\n            reject(perr);\r\n          });\r\n        }\r\n      })(req, res, next);\r\n    });\r\n  }\r\n}\r\n\r\nexport interface AuthenticateResponse {\r\n  redirectURL: string;\r\n}\r\n\r\nexport interface ValidateResponse {\r\n  token: string;\r\n  steamProfile: SteamProfile;\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./api/controllers/authController.ts","export class ErrorResponse {\r\n  constructor(public message: string) {\r\n  }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./api/framework/errorResponse.ts","import { LambdaProxyEvent } from './lambdaProxyEvent';\r\nimport { FullJwtPayload } from '../../lib/auth/jwtPayload';\r\nimport { HttpResponse } from './httpResponse';\r\nimport * as _ from 'lodash';\r\n\r\nexport class HttpRequest {\r\n  public body: any;\r\n  public headers: any;\r\n  public method: string;\r\n  public params: any;\r\n  public query: any;\r\n  public user: FullJwtPayload;\r\n  public url: string;\r\n\r\n  // HACK: We pass in response here to work around limitations in the TSOA framework,\r\n  // when they make it easier to create your own templates for authentication we can\r\n  // revisit this.\r\n  constructor(event: LambdaProxyEvent, public response: HttpResponse) {\r\n    if (event.body) {\r\n      this.body = JSON.parse(event.body);\r\n    }\r\n\r\n    this.headers = _.reduce(event.headers || {}, (result, value, key) => {\r\n      result[key.toLowerCase()] = value;\r\n      return result;\r\n    }, {});\r\n    this.method = event.httpMethod;\r\n    this.params = event.pathParameters;\r\n    this.query = event.queryStringParameters;\r\n    this.url = event.path;\r\n  }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./api/framework/httpRequest.ts","import { LambdaProxyCallback } from './lambdaProxyCallback';\r\n\r\nexport class HttpResponse {\r\n  private data: any;\r\n  private statusCode: number;\r\n  private headers = {\r\n    'Access-Control-Allow-Headers': 'Content-Type,Authorization',\r\n    'Access-Control-Expose-Headers': 'Authorization',\r\n    'Access-Control-Allow-Origin': '*',\r\n    'Access-Control-Allow-Methods': 'GET, HEAD, POST, PUT, DELETE, OPTIONS, PATCH'\r\n  };\r\n\r\n  constructor(private callback: LambdaProxyCallback) {\r\n  }\r\n\r\n  public json(data: any) {\r\n    this.data = data;\r\n    this.end();\r\n  }\r\n\r\n  public status(code: number) {\r\n    this.statusCode = code;\r\n    return this;\r\n  }\r\n\r\n  public addHeader(name: string, value: string) {\r\n    this.headers[name] = value;\r\n  }\r\n\r\n  public end() {\r\n    if (this.callback) {\r\n      this.callback(null, {\r\n        body: JSON.stringify(this.data),\r\n        headers: this.headers,\r\n        statusCode: this.statusCode,\r\n      });\r\n\r\n      this.callback = null;\r\n    }\r\n  }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./api/framework/httpResponse.ts","export class HttpResponseError extends Error {\r\n  public static createUnauthorized() {\r\n    return new HttpResponseError(401, 'Unauthorized');\r\n  }\r\n\r\n  constructor(public statusCode: number, message: string) {\r\n    super(message);\r\n\r\n    // Set the prototype explicitly:\r\n    // tslint:disable-next-line\r\n    // https://github.com/Microsoft/TypeScript-wiki/blob/master/Breaking-Changes.md#extending-built-ins-like-error-array-and-map-may-no-longer-work\r\n    Object.setPrototypeOf(this, HttpResponseError.prototype);\r\n  }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./api/framework/httpResponseError.ts","module.exports = require(\"passport\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"passport\"\n// module id = 25\n// module chunks = 0","module.exports = require(\"passport-steam\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"passport-steam\"\n// module id = 26\n// module chunks = 0","module.exports = require(\"dynamoose\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"dynamoose\"\n// module id = 27\n// module chunks = 0","module.exports = require(\"jsonwebtoken\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"jsonwebtoken\"\n// module id = 28\n// module chunks = 0","module.exports = require(\"querystring\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"querystring\"\n// module id = 29\n// module chunks = 0","import { Route, Get, Response, Request, Post, Body, Security } from 'tsoa';\r\nimport { provideSingleton } from '../../lib/ioc';\r\nimport {\r\n  Game, BaseGame, GamePlayer, GameTurn, getHumans, playerIsHuman, getNextPlayerIndex, getCurrentPlayerIndex\r\n} from '../../lib/models';\r\nimport { userRepository } from '../../lib/dynamoose/userRepository';\r\nimport { ErrorResponse, HttpRequest, HttpResponseError } from '../framework';\r\nimport { gameRepository } from '../../lib/dynamoose/gameRepository';\r\nimport { addDiscourseGameTopic } from '../../lib/discourse';\r\nimport { deleteGame } from '../../lib/services/gameService';\r\nimport { gameTurnRepository } from '../../lib/dynamoose/gameTurnRepository';\r\nimport { sendSnsMessage } from '../../lib/sns';\r\nimport { Config } from '../../lib/config';\r\nimport * as _ from 'lodash';\r\nimport * as uuid from 'node-uuid';\r\nimport * as bcrypt from 'bcryptjs';\r\nimport * as AWS from 'aws-sdk';\r\nconst ses = new AWS.SES();\r\n\r\n@Route('game')\r\n@provideSingleton(GameController)\r\nexport class GameController {\r\n  @Security('api_key')\r\n  @Response<ErrorResponse>(401, 'Unauthorized')\r\n  @Post('{gameId}/changeCiv')\r\n  public async changeCiv(@Request() request: HttpRequest, gameId: string, @Body() body: ChangeCivRequestBody): Promise<Game> {\r\n    const game = await gameRepository.get(gameId);\r\n\r\n    if (game.inProgress) {\r\n      throw new HttpResponseError(400, 'Game in Progress');\r\n    }\r\n\r\n    if (body.playerCiv !== 'LEADER_RANDOM' && _.map(game.players, 'civType').indexOf(body.playerCiv) >= 0) {\r\n      throw new HttpResponseError(400, 'Civ already in Game');\r\n    }\r\n\r\n    const player = _.find(game.players, p => {\r\n      return p.steamId === request.user.steamId;\r\n    });\r\n\r\n    if (!player) {\r\n      throw new HttpResponseError(400, 'Player not in Game');\r\n    }\r\n\r\n    player.civType = body.playerCiv;\r\n\r\n    return gameRepository.saveVersioned(game);\r\n  }\r\n\r\n  @Security('api_key')\r\n  @Response<ErrorResponse>(401, 'Unauthorized')\r\n  @Post('create')\r\n  public async create(@Request() request: HttpRequest, @Body() body: CreateGameRequestBody): Promise<Game> {\r\n    const user = await userRepository.get(request.user.steamId);\r\n\r\n    if (!user.emailAddress) {\r\n      throw new HttpResponseError(400, 'You need to set a notification email address before you can create a game.');\r\n    }\r\n\r\n    const games = await gameRepository.getGamesForUser(user);\r\n    const hasFormingGame = _.some(games, game => {\r\n      return game.createdBySteamId === request.user.steamId && !game.inProgress;\r\n    });\r\n\r\n    if (hasFormingGame) {\r\n      throw new HttpResponseError(\r\n        400,\r\n        `You cannot create a new game at the moment because you already have one game that hasn't been started yet!`\r\n      );\r\n    }\r\n\r\n    const newGame: Game = {\r\n      gameId: uuid.v4(),\r\n      createdBySteamId: user.steamId,\r\n      currentPlayerSteamId: user.steamId,\r\n      dlc: body.dlc,\r\n      players: [{\r\n        steamId: user.steamId,\r\n        civType: body.player1Civ\r\n      }],\r\n      displayName: body.displayName,\r\n      description: body.description,\r\n      slots: body.slots,\r\n      humans: body.humans,\r\n      gameSpeed: body.gameSpeed,\r\n      mapFile: body.mapFile,\r\n      mapSize: body.mapSize\r\n    };\r\n\r\n    const topic = await addDiscourseGameTopic(newGame);\r\n\r\n    if (topic) {\r\n      newGame.discourseTopicId = topic.topic_id;\r\n    }\r\n\r\n    if (body.password) {\r\n      const salt = await bcrypt.genSalt(10);\r\n      newGame.hashedPassword = await bcrypt.hash(body.password, salt);\r\n    }\r\n\r\n    await gameRepository.saveVersioned(newGame);\r\n\r\n    user.activeGameIds = user.activeGameIds || [];\r\n    user.activeGameIds.push(newGame.gameId);\r\n    await userRepository.saveVersioned(user);\r\n\r\n    return newGame;\r\n  }\r\n\r\n  @Security('api_key')\r\n  @Response<ErrorResponse>(401, 'Unauthorized')\r\n  @Post('{gameId}/delete')\r\n  public async delete(@Request() request: HttpRequest, gameId: string): Promise<void> {\r\n    const game = await gameRepository.get(gameId);\r\n\r\n    if (game.createdBySteamId !== request.user.steamId) {\r\n      throw new HttpResponseError(400, 'Only the creator of the game can delete the game!');\r\n    }\r\n\r\n    if (game.inProgress && game.gameTurnRangeKey > 1) {\r\n      throw new HttpResponseError(400, `Can't delete an in progress game!`);\r\n    }\r\n\r\n    await deleteGame(game, request.user.steamId);\r\n  }\r\n\r\n  @Security('api_key')\r\n  @Response<ErrorResponse>(401, 'Unauthorized')\r\n  @Post('{gameId}/edit')\r\n  public async edit(@Request() request: HttpRequest, gameId: string, @Body() body: GameRequestBody): Promise<Game> {\r\n    const game = await gameRepository.get(gameId);\r\n\r\n    if (game.createdBySteamId !== request.user.steamId) {\r\n      throw new HttpResponseError(400, `You didn't create this game!`);\r\n    }\r\n\r\n    if (game.slots < game.players.length) {\r\n      throw new HttpResponseError(400, `You can't change the number of slots to less than the current number of players!`);\r\n    }\r\n\r\n    if (game.humans < game.players.length) {\r\n      throw new HttpResponseError(400, `You can't change the number of humans to less than the current number of players!`);\r\n    }\r\n\r\n    if (!game.inProgress) {\r\n      game.displayName = body.displayName;\r\n      game.description = body.description;\r\n      game.slots = body.slots;\r\n      game.dlc = body.dlc;\r\n      game.humans = body.humans;\r\n      game.gameSpeed = body.gameSpeed;\r\n      game.mapFile = body.mapFile;\r\n      game.mapSize = body.mapSize;\r\n    }\r\n\r\n    game.allowJoinAfterStart = body.allowJoinAfterStart;\r\n\r\n    if (body.password) {\r\n      if (body.password !== game.hashedPassword) {\r\n        const salt = await bcrypt.genSalt(10);\r\n        game.hashedPassword = await bcrypt.hash(body.password, salt);\r\n      }\r\n    } else {\r\n      game.hashedPassword = null;\r\n    }\r\n\r\n    return gameRepository.saveVersioned(game);\r\n  }\r\n\r\n  @Security('api_key')\r\n  @Response<ErrorResponse>(401, 'Unauthorized')\r\n  @Post('{gameId}/join')\r\n  public async join(@Request() request: HttpRequest, gameId: string, @Body() body: JoinGameRequestBody): Promise<Game> {\r\n    const game = await gameRepository.get(gameId);\r\n    let targetPlayer: GamePlayer;\r\n\r\n    if (game.inProgress) {\r\n      if (!game.allowJoinAfterStart) {\r\n        throw new HttpResponseError(400, 'Game does not allow joining after start!');\r\n      }\r\n\r\n      targetPlayer = _.find(game.players, player => {\r\n        return player.civType === body.playerCiv;\r\n      });\r\n\r\n      if (!targetPlayer) {\r\n        throw new HttpResponseError(400, 'Requested civ not found.');\r\n      }\r\n\r\n      if (targetPlayer.steamId) {\r\n        throw new HttpResponseError(400, 'Slot already assigned.');\r\n      }\r\n    } else {\r\n      if (body.playerCiv !== 'LEADER_RANDOM' && _.map(game.players, 'civType').indexOf(body.playerCiv) >= 0) {\r\n        throw new HttpResponseError(400, 'Civ already in Game');\r\n      }\r\n    }\r\n\r\n    if (_.map(game.players, 'steamId').indexOf(request.user.steamId) >= 0) {\r\n      throw new HttpResponseError(400, 'Player already in Game');\r\n    }\r\n\r\n    if (getHumans(game).length >= game.humans) {\r\n      throw new HttpResponseError(400, 'Too many humans already in game.');\r\n    }\r\n\r\n    if (game.hashedPassword) {\r\n      if (!(await bcrypt.compare(body.password || '', game.hashedPassword))) {\r\n        throw new HttpResponseError(400, 'Supplied password does not match game password!');\r\n      }\r\n    }\r\n\r\n    if (targetPlayer) {\r\n      targetPlayer.steamId = request.user.steamId;\r\n    } else {\r\n      game.players.push({\r\n        steamId: request.user.steamId,\r\n        civType: body.playerCiv\r\n      });\r\n    }\r\n\r\n    const user = await userRepository.get(request.user.steamId);\r\n\r\n    if (!user.emailAddress) {\r\n      throw new HttpResponseError(404, 'You need to set an email address for notifications before joining a game.');\r\n    }\r\n\r\n    user.activeGameIds = user.activeGameIds || [];\r\n    user.activeGameIds.push(game.gameId);\r\n\r\n    await Promise.all([\r\n      gameRepository.saveVersioned(game),\r\n      userRepository.saveVersioned(user)\r\n    ]);\r\n\r\n    const users = await userRepository.getUsersForGame(game);\r\n\r\n    const createdByUser = _.find(users, u => {\r\n      return u.steamId === game.createdBySteamId;\r\n    });\r\n\r\n    const promises = [];\r\n\r\n    if (createdByUser.emailAddress) {\r\n      const email = {\r\n        Destination: {\r\n          ToAddresses: [\r\n            createdByUser.emailAddress\r\n          ]\r\n        },\r\n        Message: {\r\n          Body: {\r\n            Html: {\r\n              Data: `<p>The user <b>${user.displayName}</b> has joined your game <b>${game.displayName}</b>!  ` +\r\n                `There are now <b>${getHumans(game, true).length} / ${game.humans}</b> ` +\r\n                `human player slots filled in the game.</p>`\r\n            }\r\n          }, Subject: {\r\n            Data: 'A new user has joined your game!'\r\n          }\r\n        },\r\n        Source: 'Play Your Damn Turn <noreply@playyourdamnturn.com>'\r\n      };\r\n\r\n      promises.push(ses.sendEmail(email).promise());\r\n    }\r\n\r\n    if (game.inProgress) {\r\n      promises.push(gameTurnRepository.getAndUpdateSaveFileForGameState(game, users));\r\n    }\r\n\r\n    await Promise.all(promises);\r\n\r\n    return game;\r\n  }\r\n\r\n  @Security('api_key')\r\n  @Response<ErrorResponse>(401, 'Unauthorized')\r\n  @Post('{gameId}/leave')\r\n  public async leave(@Request() request: HttpRequest, gameId: string): Promise<Game> {\r\n    const game = await gameRepository.get(gameId);\r\n\r\n    if (game.createdBySteamId === request.user.steamId) {\r\n      throw new HttpResponseError(400, `You can't leave, you created the game!`);\r\n    }\r\n\r\n    if (game.inProgress && game.gameTurnRangeKey > 1) {\r\n      throw new HttpResponseError(400, 'You can only leave a game before it starts.');\r\n    }\r\n\r\n    if (_.map(game.players, 'steamId').indexOf(request.user.steamId) < 0) {\r\n      throw new HttpResponseError(400, 'Player not in Game');\r\n    }\r\n\r\n    _.remove(game.players, player => {\r\n      return player.steamId === request.user.steamId;\r\n    });\r\n\r\n    const user = await userRepository.get(request.user.steamId);\r\n\r\n    _.pull(user.activeGameIds, game.gameId);\r\n\r\n    await Promise.all([\r\n      gameRepository.saveVersioned(game),\r\n      userRepository.saveVersioned(user)\r\n    ]);\r\n\r\n    const createdByUser = await userRepository.get(game.createdBySteamId);\r\n\r\n    if (createdByUser.emailAddress) {\r\n      const email = {\r\n        Destination: {\r\n          ToAddresses: [\r\n            createdByUser.emailAddress\r\n          ]\r\n        },\r\n        Message: {\r\n          Body: {\r\n            Html: {\r\n              Data: `<p>The user <b>${user.displayName}</b> has left your game <b>${game.displayName}</b>.  ` +\r\n                `There are now <b>${game.players.length} / ${game.humans}</b> human players in the game.</p>`\r\n            }\r\n          }, Subject: {\r\n            Data: 'A user has left your game.'\r\n          }\r\n        },\r\n        Source: 'Play Your Damn Turn <noreply@playyourdamnturn.com>'\r\n      };\r\n\r\n      await ses.sendEmail(email).promise();\r\n    }\r\n\r\n    return game;\r\n  }\r\n\r\n  @Response<ErrorResponse>(401, 'Unauthorized')\r\n  @Get('listOpen')\r\n  public async listOpen(@Request() request: HttpRequest): Promise<OpenGamesResponse> {\r\n    const test = gameRepository;\r\n    if (test.batchGet) {\r\n      test.batchGet(['wat']);\r\n    }\r\n    const games: Game[] = await gameRepository.scan('completed').not().eq(true).exec();\r\n    const orderedGames = _.orderBy(games, ['createdAt'], ['desc']);\r\n\r\n    return {\r\n      notStarted: _.filter(orderedGames, game => {\r\n        return !game.inProgress;\r\n      }),\r\n      openSlots: _.filter(orderedGames, game => {\r\n        const numHumans = _.filter(game.players, player => {\r\n          return !!player.steamId;\r\n        }).length;\r\n\r\n        return game.inProgress &&\r\n          game.allowJoinAfterStart &&\r\n          !game.completed &&\r\n          numHumans < game.players.length &&\r\n          numHumans < game.humans;\r\n      })\r\n    };\r\n  }\r\n\r\n  @Security('api_key')\r\n  @Response<ErrorResponse>(401, 'Unauthorized')\r\n  @Post('{gameId}/start')\r\n  public async start(@Request() request: HttpRequest, gameId: string): Promise<Game> {\r\n    const game = await gameRepository.get(gameId);\r\n\r\n    if (game.inProgress) {\r\n      throw new HttpResponseError(400, 'Game in progress!');\r\n    }\r\n\r\n    if (game.createdBySteamId !== request.user.steamId) {\r\n      throw new HttpResponseError(400, 'You didn\\'t create this game!');\r\n    }\r\n\r\n    if (game.players.length < 2) {\r\n      throw new HttpResponseError(400, 'Not enough players to start the game!');\r\n    }\r\n\r\n    game.inProgress = true;\r\n    await gameRepository.saveVersioned(game);\r\n\r\n    const firstTurn: GameTurn = {\r\n      gameId: game.gameId,\r\n      turn: 1,\r\n      round: 1,\r\n      playerSteamId: game.createdBySteamId\r\n    };\r\n\r\n    await gameTurnRepository.saveVersioned(firstTurn);\r\n\r\n    return game;\r\n  }\r\n\r\n  @Security('api_key')\r\n  @Response<ErrorResponse>(401, 'Unauthorized')\r\n  @Post('{gameId}/surrender')\r\n  public async surrender(@Request() request: HttpRequest, gameId: string, @Body() body: SurrenderBody): Promise<Game> {\r\n    const game = await gameRepository.get(gameId);\r\n    let userId = request.user.steamId;\r\n\r\n    if (body.kickUserId) {\r\n      if (game.createdBySteamId !== request.user.steamId) {\r\n        throw new HttpResponseError(400, 'You must be the game creator to kick a user!');\r\n      }\r\n\r\n      const diffTime = new Date().getTime() - game.updatedAt.getTime();\r\n\r\n      if (diffTime < 1000 * 60 * 60 * 24) {\r\n        throw new HttpResponseError(404, `You cannot kick a user if they haven't had 24 hours to play their turn.`);\r\n      }\r\n\r\n      userId = body.kickUserId;\r\n    }\r\n\r\n    const player = _.find(game.players, p => {\r\n      return p.steamId === userId;\r\n    });\r\n\r\n    if (!player) {\r\n      throw new HttpResponseError(404, 'Player not in Game.');\r\n    }\r\n\r\n    if (player.hasSurrendered) {\r\n      throw new HttpResponseError(404, 'Player has already surrendered!');\r\n    }\r\n\r\n    if (game.gameTurnRangeKey <= 1) {\r\n      throw new HttpResponseError(404, `You can't surrender yet!  Create the game!`);\r\n    }\r\n\r\n    player.hasSurrendered = true;\r\n\r\n    // The game is completed if every player is AI\r\n    game.completed = _.every(game.players, p => {\r\n      return !playerIsHuman(p);\r\n    });\r\n\r\n    const users = await userRepository.getUsersForGame(game);\r\n    const user = _.find(users, u => {\r\n      return u.steamId === userId;\r\n    });\r\n\r\n    _.pull(user.activeGameIds, gameId);\r\n\r\n    user.inactiveGameIds = user.inactiveGameIds || [];\r\n    user.inactiveGameIds.push(gameId);\r\n\r\n    const gameTurn = await gameTurnRepository.get({ gameId: gameId, turn: game.gameTurnRangeKey });\r\n\r\n    if (user.steamId === game.currentPlayerSteamId) {\r\n      // Update the current player if it's the turn of the player who's surrendering\r\n      const curIndex = getCurrentPlayerIndex(game);\r\n      const nextIndex = getNextPlayerIndex(game);\r\n\r\n      if (nextIndex >= 0) {\r\n        game.currentPlayerSteamId = gameTurn.playerSteamId = game.players[nextIndex].steamId;\r\n\r\n        if (nextIndex <= curIndex) {\r\n          game.round = gameTurn.round++;\r\n        }\r\n      }\r\n\r\n      gameTurn.startDate = new Date();\r\n\r\n      await gameTurnRepository.getAndUpdateSaveFileForGameState(game);\r\n    }\r\n\r\n    await Promise.all([\r\n      userRepository.saveVersioned(user),\r\n      gameRepository.saveVersioned(game),\r\n      gameTurnRepository.saveVersioned(gameTurn)\r\n    ]);\r\n\r\n    // Send an sns message that a turn has been completed.\r\n    await sendSnsMessage(Config.resourcePrefix() + 'turn-submitted', 'turn-submitted', game.gameId);\r\n\r\n    // Send an email to everyone else left in the game....\r\n    const emailPromises = [];\r\n\r\n    for (const gamePlayer of game.players) {\r\n      const curUser = _.find(users, u => {\r\n        return u.steamId === gamePlayer.steamId;\r\n      });\r\n\r\n      if (curUser && curUser.emailAddress) {\r\n        let desc = 'surrendered';\r\n\r\n        if (body.kickUserId) {\r\n          desc = 'been kicked';\r\n        }\r\n\r\n        if (playerIsHuman(gamePlayer)) {\r\n          const email = {\r\n            Destination: {\r\n              ToAddresses: [\r\n                curUser.emailAddress\r\n              ]\r\n            },\r\n            Message: {\r\n              Body: {\r\n                Html: {\r\n                  Data: `<p><b>${user.displayName}</b> has ${desc} from <b>${game.displayName}</b>. :(</p>`\r\n                }\r\n              }, Subject: {\r\n                Data: `A player has ${desc} from ${game.displayName}!`\r\n              }\r\n            },\r\n            Source: 'Play Your Damn Turn <noreply@playyourdamnturn.com>'\r\n          };\r\n\r\n          emailPromises.push(ses.sendEmail(email).promise());\r\n        }\r\n\r\n        if (gamePlayer.steamId === body.kickUserId) {\r\n          const email = {\r\n            Destination: {\r\n              ToAddresses: [\r\n                curUser.emailAddress\r\n              ]\r\n            },\r\n            Message: {\r\n              Body: {\r\n                Html: {\r\n                  Data: `<p>You have been kicked from <b>${game.displayName}</b>. If you feel this was unwarranted, ` +\r\n                    `please contact mike@playyourdamnturn.com and we can try to mediate the situation.</p>`\r\n                }\r\n              }, Subject: {\r\n                Data: `You have been kicked from ${game.displayName}!`\r\n              }\r\n            },\r\n            Source: 'Play Your Damn Turn <noreply@playyourdamnturn.com>'\r\n          };\r\n\r\n          emailPromises.push(ses.sendEmail(email).promise());\r\n        }\r\n      }\r\n    }\r\n\r\n    await Promise.all(emailPromises);\r\n\r\n    return game;\r\n  }\r\n\r\n  @Get('{gameId}')\r\n  public get(@Request() request: HttpRequest, gameId: string): Promise<Game> {\r\n    return gameRepository.get(gameId);\r\n  }\r\n}\r\n\r\nexport interface ChangeCivRequestBody {\r\n  playerCiv: string;\r\n}\r\n\r\nexport interface SurrenderBody {\r\n  kickUserId: string;\r\n}\r\n\r\nexport interface GameRequestBody extends BaseGame {\r\n  password: string;\r\n}\r\n\r\nexport interface CreateGameRequestBody extends GameRequestBody {\r\n  player1Civ: string;\r\n}\r\n\r\nexport interface JoinGameRequestBody extends ChangeCivRequestBody {\r\n  password: string;\r\n}\r\n\r\nexport interface OpenGamesResponse {\r\n  notStarted: Game[];\r\n  openSlots: Game[];\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./api/controllers/gameController.ts","import { GamePlayer } from './gamePlayer';\r\nimport { Entity } from './shared';\r\nimport * as _ from 'lodash';\r\n\r\nexport interface BaseGame {\r\n  displayName: string;\r\n  description: string;\r\n  dlc: string[];\r\n  slots: number;\r\n  humans: number;\r\n  gameSpeed: string;\r\n  mapFile: string;\r\n  mapSize: string;\r\n  allowJoinAfterStart?: boolean;\r\n}\r\n\r\nexport interface Game extends Entity, BaseGame {\r\n  gameId: string;\r\n  createdBySteamId: string;\r\n  inProgress?: boolean;\r\n  hashedPassword?: string;\r\n  players: GamePlayer[];\r\n  discourseTopicId?: number;\r\n  currentPlayerSteamId: string;\r\n  turnTimerMinutes?: number;\r\n  round?: number;\r\n  gameTurnRangeKey?: number;\r\n  completed?: boolean;\r\n}\r\n\r\nexport function getCurrentPlayerIndex(game: Game) {\r\n  return _.indexOf(game.players, _.find(game.players, player => {\r\n    return player.steamId === game.currentPlayerSteamId;\r\n  }));\r\n};\r\n\r\nexport function getNextPlayerIndex(game: Game) {\r\n  let playerIndex = getCurrentPlayerIndex(game);\r\n  let looped = false;\r\n\r\n  do {\r\n    playerIndex++;\r\n\r\n    if (playerIndex >= game.players.length) {\r\n      if (!looped) {\r\n        playerIndex = 0;\r\n        looped = true;\r\n      } else {\r\n        return -1;\r\n      }\r\n    }\r\n  } while (!playerIsHuman(game.players[playerIndex]));\r\n\r\n  return playerIndex;\r\n};\r\n\r\nexport function getPreviousPlayerIndex(game: Game) {\r\n  let playerIndex = getCurrentPlayerIndex(game);\r\n  let looped = false;\r\n\r\n  do {\r\n    playerIndex--;\r\n\r\n    if (playerIndex < 0) {\r\n      if (!looped) {\r\n        playerIndex = game.players.length - 1;\r\n        looped = true;\r\n      } else {\r\n        return -1;\r\n      }\r\n    }\r\n  } while (!playerIsHuman(game.players[playerIndex]));\r\n\r\n  return playerIndex;\r\n};\r\n\r\nexport function getHumans(game: Game, includeSurrendered?: boolean) {\r\n  return _.filter(game.players, player => {\r\n    return player.steamId && (includeSurrendered || !player.hasSurrendered);\r\n  });\r\n};\r\n\r\nexport function playerIsHuman(player: GamePlayer) {\r\n  return player.steamId && !player.hasSurrendered;\r\n};\r\n\n\n\n// WEBPACK FOOTER //\n// ./lib/models/game.ts","import { Game } from '../models';\r\nimport { userRepository } from '../dynamoose/userRepository';\r\nimport { gameRepository } from '../dynamoose/gameRepository';\r\nimport { deleteDiscourseGameTopic } from '../discourse';\r\nimport * as _ from 'lodash';\r\nimport * as AWS from 'aws-sdk';\r\nconst ses = new AWS.SES();\r\n\r\nexport async function deleteGame(game: Game, steamId: string) {\r\n  const users = await userRepository.getUsersForGame(game);\r\n  const promises = [];\r\n\r\n  promises.push(gameRepository.delete(game.gameId));\r\n\r\n  for (const curUser of users) {\r\n    _.pull(curUser.activeGameIds, game.gameId);\r\n    promises.push(userRepository.saveVersioned(curUser));\r\n\r\n    if (curUser.emailAddress && (!steamId || curUser.steamId !== steamId)) {\r\n      let message = `<p>A game that you have recently joined (<b>${game.displayName}</b>) has been deleted`;\r\n\r\n      if (!steamId) {\r\n        message = ` because it took too long to start. :(</p>`;\r\n      } else {\r\n        message += ` by it's creator. :(</p>`;\r\n      }\r\n\r\n      const email = {\r\n        Destination: {\r\n          ToAddresses: [\r\n            curUser.emailAddress\r\n          ]\r\n        },\r\n        Message: {\r\n          Body: {\r\n            Html: {\r\n              Data: message\r\n            }\r\n          }, Subject: {\r\n            Data: `Game Deleted`\r\n          }\r\n        },\r\n        Source: 'Play Your Damn Turn <noreply@playyourdamnturn.com>'\r\n      };\r\n\r\n      promises.push(ses.sendEmail(email).promise());\r\n    }\r\n  }\r\n\r\n  promises.push(deleteDiscourseGameTopic(game));\r\n\r\n  await Promise.all(promises);\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./lib/services/gameService.ts","import { GameTurn, GameTurnKey, Game, User, playerIsHuman } from '../models';\r\nimport { IRepository, dynamoose } from './common';\r\nimport { Config } from '../config';\r\nimport { HttpResponseError } from '../../api/framework/index';\r\nimport * as _ from 'lodash';\r\nimport * as AWS from 'aws-sdk';\r\nimport * as civ6 from 'civ6-save-parser';\r\nimport * as zlib from 'zlib';\r\nimport * as pwdgen from 'generate-password';\r\nconst s3 = new AWS.S3();\r\n\r\nexport interface IGameTurnRepository extends IRepository<GameTurnKey, GameTurn> {\r\n  createS3SaveKey(gameId: string, turn: number): string;\r\n  getAndUpdateSaveFileForGameState(game: Game, users?: User[]): Promise<any>;\r\n  updateTurnStatistics(game: Game, gameTurn: GameTurn, user: User, undo: boolean): void;\r\n  updateSaveFileForGameState(game: Game, users?: User[], wrapper?): Promise<any>;\r\n  parseSaveFile(buffer, game: Game);\r\n}\r\n\r\nexport const gameTurnRepository = dynamoose.createVersionedModel(Config.resourcePrefix() + 'game-turn', {\r\n  gameId: {\r\n    type: String,\r\n    hashKey: true\r\n  },\r\n  turn: {\r\n    type: Number,\r\n    rangeKey: true\r\n  },\r\n  round: {\r\n    type: Number,\r\n    required: true\r\n  },\r\n  playerSteamId: {\r\n    type: String,\r\n    required: true\r\n  },\r\n  startDate: {\r\n    type: Date,\r\n    required: true,\r\n    default: function() {\r\n      return new Date();\r\n    }\r\n  },\r\n  endDate: Date,\r\n  skipped: Boolean\r\n}) as IGameTurnRepository;\r\n\r\ngameTurnRepository.createS3SaveKey = (gameId, turn) => {\r\n  return gameId + '/' + ('000000' + turn).slice(-6) + '.CivXSave';\r\n};\r\n\r\ngameTurnRepository.getAndUpdateSaveFileForGameState = async (game, users) => {\r\n  const s3Key = gameTurnRepository.createS3SaveKey(game.gameId, game.gameTurnRangeKey);\r\n\r\n  const data = await s3.getObject({\r\n    Bucket: Config.resourcePrefix() + 'saves',\r\n    Key: s3Key\r\n  }).promise();\r\n\r\n  if (!data && !data.Body) {\r\n    throw new Error(`File doesn't exist: ${s3Key}`);\r\n  }\r\n\r\n  return gameTurnRepository.updateSaveFileForGameState(game, users, gameTurnRepository.parseSaveFile(data.Body, game));\r\n};\r\n\r\ngameTurnRepository.updateTurnStatistics = (game, gameTurn, user, undo) => {\r\n  const undoInc = undo ? -1 : 1;\r\n\r\n  if (gameTurn.endDate) {\r\n    const player = _.find(game.players, p => {\r\n      return p.steamId === user.steamId;\r\n    });\r\n\r\n    if (gameTurn.skipped) {\r\n      player.turnsSkipped = (player.turnsSkipped || 0) + 1 * undoInc;\r\n      user.turnsSkipped = (user.turnsSkipped || 0) + 1 * undoInc;\r\n    } else {\r\n      player.turnsPlayed = (player.turnsPlayed || 0) + 1 * undoInc;\r\n      user.turnsPlayed = (user.turnsPlayed || 0) + 1 * undoInc;\r\n    }\r\n\r\n    const timeTaken = gameTurn.endDate.getTime() - gameTurn.startDate.getTime();\r\n    player.timeTaken = (player.timeTaken || 0) + timeTaken * undoInc;\r\n    user.timeTaken = (user.timeTaken || 0) + timeTaken * undoInc;\r\n\r\n    if (timeTaken < 1000 * 60 * 60) {\r\n      user.fastTurns = (user.fastTurns || 0) + 1 * undoInc;\r\n      player.fastTurns = (player.fastTurns || 0) + 1 * undoInc;\r\n    }\r\n\r\n    if (timeTaken > 1000 * 60 * 60 * 6) {\r\n      user.slowTurns = (user.slowTurns || 0) + 1 * undoInc;\r\n      player.slowTurns = (player.slowTurns || 0) + 1 * undoInc;\r\n    }\r\n  }\r\n};\r\n\r\ngameTurnRepository.updateSaveFileForGameState = (game, users, wrapper) => {\r\n  const parsed = wrapper.parsed;\r\n\r\n  for (let i = parsed.CIVS.length - 1; i >= 0; i--) {\r\n    const parsedCiv = parsed.CIVS[i];\r\n\r\n    if (game.players[i]) {\r\n      const player = game.players[i];\r\n\r\n      if (!playerIsHuman(player)) {\r\n        // Make sure surrendered players are marked as AI\r\n        if (parsedCiv.ACTOR_AI_HUMAN.data === 3) {\r\n          civ6.modifyChunk(wrapper.chunks, parsedCiv.ACTOR_AI_HUMAN, 1);\r\n        }\r\n      } else {\r\n        let slotHeaderVal = parsedCiv.SLOT_HEADER.data;\r\n\r\n        if (parsedCiv.ACTOR_AI_HUMAN.data === 1) {\r\n          civ6.modifyChunk(wrapper.chunks, parsedCiv.ACTOR_AI_HUMAN, 3);\r\n        }\r\n\r\n        if (users) {\r\n          const user = _.find(users, u => {\r\n            return u.steamId === player.steamId;\r\n          });\r\n\r\n          // Make sure player names are correct\r\n          if (parsedCiv.PLAYER_NAME) {\r\n            if (parsedCiv.PLAYER_NAME.data !== user.displayName) {\r\n              civ6.modifyChunk(wrapper.chunks, parsedCiv.PLAYER_NAME, user.displayName);\r\n            }\r\n          } else {\r\n            civ6.addChunk(\r\n              wrapper.chunks,\r\n              parsedCiv.LEADER_NAME,\r\n              civ6.MARKERS.ACTOR_DATA.PLAYER_NAME,\r\n              civ6.DATA_TYPES.STRING,\r\n              user.displayName\r\n            );\r\n\r\n            slotHeaderVal++;\r\n          }\r\n        }\r\n\r\n        if (player.steamId === game.currentPlayerSteamId) {\r\n          // Delete any password for the active player\r\n          if (parsedCiv.PLAYER_PASSWORD) {\r\n            civ6.deleteChunk(wrapper.chunks, parsedCiv.PLAYER_PASSWORD);\r\n            slotHeaderVal--;\r\n          }\r\n        } else {\r\n          // Make sure all other players have a random password\r\n          if (!parsedCiv.PLAYER_PASSWORD) {\r\n            civ6.addChunk(\r\n              wrapper.chunks,\r\n              parsedCiv.LEADER_NAME,\r\n              civ6.MARKERS.ACTOR_DATA.PLAYER_PASSWORD,\r\n              civ6.DATA_TYPES.STRING,\r\n              pwdgen.generate({})\r\n            );\r\n\r\n            slotHeaderVal++;\r\n          } else {\r\n            civ6.modifyChunk(wrapper.chunks, parsedCiv.PLAYER_PASSWORD, pwdgen.generate({}));\r\n          }\r\n        }\r\n\r\n        civ6.modifyChunk(wrapper.chunks, parsedCiv.SLOT_HEADER, slotHeaderVal);\r\n      }\r\n    }\r\n  }\r\n\r\n  const saveKey = gameTurnRepository.createS3SaveKey(game.gameId, game.gameTurnRangeKey);\r\n  const uncompressedBody = Buffer.concat(wrapper.chunks);\r\n\r\n  return Promise.all([\r\n    s3.putObject({\r\n      Bucket: Config.resourcePrefix() + 'saves',\r\n      Key: saveKey,\r\n      Body: uncompressedBody\r\n    }).promise(),\r\n    s3.putObject({\r\n      Bucket: Config.resourcePrefix() + 'saves',\r\n      Key: saveKey + '.gz',\r\n      Body: zlib.gzipSync(uncompressedBody)\r\n    }).promise()\r\n  ]);\r\n}\r\n\r\ngameTurnRepository.parseSaveFile = (buffer, game) => {\r\n  try {\r\n    return civ6.parse(buffer);\r\n  } catch (e) {\r\n    // TODO: Should probably be a non-HTTP specific error type\r\n    throw new HttpResponseError(400, `Could not parse uploaded file!  If you continue to have trouble please post on the PYDT forums.`);\r\n  }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./lib/dynamoose/gameTurnRepository.ts","module.exports = require(\"civ6-save-parser\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"civ6-save-parser\"\n// module id = 34\n// module chunks = 0","module.exports = require(\"zlib\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"zlib\"\n// module id = 35\n// module chunks = 0","module.exports = require(\"generate-password\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"generate-password\"\n// module id = 36\n// module chunks = 0","import * as AWS from 'aws-sdk';\r\nconst sns = new AWS.SNS();\r\nconst sts = new AWS.STS();\r\n\r\nexport async function sendSnsMessage(topic: string, subject: string, message: string) {\r\n  const identity = await sts.getCallerIdentity({}).promise();\r\n\r\n  const params = {\r\n    Message: message,\r\n    Subject: subject,\r\n    TopicArn: 'arn:aws:sns:us-east-1:' + identity.Account + ':' + topic\r\n  };\r\n\r\n  return sns.publish(params).promise();\r\n};\r\n\n\n\n// WEBPACK FOOTER //\n// ./lib/sns.ts","module.exports = require(\"node-uuid\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"node-uuid\"\n// module id = 38\n// module chunks = 0","module.exports = require(\"bcryptjs\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"bcryptjs\"\n// module id = 39\n// module chunks = 0","import { Route, Get, Security, Response, Request, Post, Body, Query } from 'tsoa';\r\nimport { provideSingleton } from '../../lib/ioc';\r\nimport { Game, User, SteamProfile } from '../../lib/models';\r\nimport { userRepository } from '../../lib/dynamoose/userRepository';\r\nimport { ErrorResponse, HttpRequest } from '../framework';\r\nimport { Config } from '../../lib/config';\r\nimport { gameRepository } from '../../lib/dynamoose/gameRepository';\r\nimport { getPlayerSummaries } from '../../lib/steamUtil';\r\n\r\n@Route('user')\r\n@provideSingleton(UserController)\r\nexport class UserController {\r\n  @Security('api_key')\r\n  @Response<ErrorResponse>(401, 'Unauthorized')\r\n  @Get('games')\r\n  public async games(@Request() request: HttpRequest): Promise<GamesByUserResponse> {\r\n    const user = await userRepository.get(request.user.steamId);\r\n    const games = await gameRepository.getGamesForUser(user);\r\n\r\n    return {\r\n      data: games,\r\n      pollUrl: `https://${Config.resourcePrefix()}saves.s3.amazonaws.com/${userRepository.createS3GameCacheKey(request.user.steamId)}`\r\n    };\r\n  }\r\n\r\n  @Security('api_key')\r\n  @Response<ErrorResponse>(401, 'Unauthorized')\r\n  @Get('')\r\n  public async all(@Request() request: HttpRequest): Promise<User[]> {\r\n    const result: User[] = [];\r\n    let lastKey;\r\n\r\n    do {\r\n      let scan = userRepository.scan().where('turnsPlayed').gt(0);\r\n\r\n      if (lastKey) {\r\n        scan = scan.startAt(lastKey);\r\n      }\r\n\r\n      const users: User[] = await scan.exec();\r\n\r\n      for (const user of users) {\r\n        delete user.emailAddress; // make sure email address isn't returned!\r\n      }\r\n\r\n      lastKey = (users as any).lastKey;\r\n    } while (lastKey);\r\n\r\n    return result;\r\n  }\r\n\r\n  @Security('api_key')\r\n  @Response<ErrorResponse>(401, 'Unauthorized')\r\n  @Get('getCurrent')\r\n  public getCurrent(@Request() request: HttpRequest): Promise<User> {\r\n    return userRepository.get(request.user.steamId);\r\n  }\r\n\r\n  @Security('api_key')\r\n  @Response<ErrorResponse>(401, 'Unauthorized')\r\n  @Post('setNotificationEmail')\r\n  public async setNotificationEmail(@Request() request: HttpRequest, @Body() body: SetNotificationEmailBody): Promise<User> {\r\n    const user = await userRepository.get(request.user.steamId);\r\n    user.emailAddress = body.emailAddress;\r\n    return userRepository.saveVersioned(user);\r\n  }\r\n\r\n  @Security('api_key')\r\n  @Response<ErrorResponse>(401, 'Unauthorized')\r\n  @Get('steamProfile')\r\n  public async steamProfile(@Request() request: HttpRequest): Promise<SteamProfile> {\r\n    const players = await getPlayerSummaries([request.user.steamId]);\r\n\r\n    if (players.length !== 1) {\r\n      throw new Error('Couldn\\'t get user profile');\r\n    }\r\n\r\n    return players[0];\r\n  }\r\n\r\n  @Response<ErrorResponse>(401, 'Unauthorized')\r\n  @Get('steamProfiles')\r\n  public async steamProfiles(@Query('steamIds') rawSteamIds: string): Promise<SteamProfile[]> {\r\n    const steamIds = rawSteamIds.split(',') || [];\r\n\r\n    // Ensure that all requested users are in our DB...\r\n    const users = await userRepository.batchGet(steamIds);\r\n\r\n    if (steamIds.length !== users.length) {\r\n      throw new Error('Invalid users');\r\n    }\r\n\r\n    return getPlayerSummaries(steamIds);\r\n  }\r\n\r\n  @Get('{steamId}')\r\n  public async byId(@Request() request: HttpRequest, steamId: string): Promise<User> {\r\n    const user = await userRepository.get(steamId);\r\n    delete user.emailAddress; // make sure email address isn't returned!\r\n    return user;\r\n  }\r\n}\r\n\r\nexport interface GamesByUserResponse {\r\n  data: Game[];\r\n  pollUrl: string;\r\n}\r\n\r\nexport interface SetNotificationEmailBody {\r\n  emailAddress: string;\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./api/controllers/userController.ts","import { Route, Get, Response, Request } from 'tsoa';\r\nimport { provideSingleton } from '../../lib/ioc';\r\nimport { User } from '../../lib/models';\r\nimport { userRepository } from '../../lib/dynamoose/userRepository';\r\nimport { ErrorResponse, HttpRequest } from '../framework';\r\n\r\n@Route('users')\r\n@provideSingleton(UsersController)\r\nexport class UsersController {\r\n  @Response<ErrorResponse>(401, 'Unauthorized')\r\n  @Get('')\r\n  public async all(@Request() request: HttpRequest): Promise<User[]> {\r\n    const result: User[] = [];\r\n    let lastKey;\r\n\r\n    do {\r\n      let scan = userRepository.scan().where('turnsPlayed').gt(0);\r\n\r\n      if (lastKey) {\r\n        scan = scan.startAt(lastKey);\r\n      }\r\n\r\n      const users: User[] = await scan.exec();\r\n\r\n      for (const user of users) {\r\n        delete user.emailAddress; // make sure email address isn't returned!\r\n        result.push(user);\r\n      }\r\n\r\n      lastKey = (users as any).lastKey;\r\n    } while (lastKey);\r\n\r\n    return result;\r\n  }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./api/controllers/usersController.ts","import { HttpRequest, HttpResponseError } from '../../api/framework/index';\r\nimport { JwtUtil } from './jwtUtil';\r\nimport * as winston from 'winston';\r\n\r\nexport async function expressAuthentication(request: HttpRequest, securityName: string, scopes?: string[]): Promise<any> {\r\n  if (securityName === 'api_key') {\r\n    try {\r\n      if (request.headers && request.headers['authorization']) {\r\n        return JwtUtil.parseToken(request.headers['authorization']);\r\n      }\r\n    } catch (e) {\r\n      winston.warn(`Error parsing JWT token: ${JSON.stringify(e.stack || e)}`);\r\n      throw HttpResponseError.createUnauthorized();\r\n    }\r\n\r\n    winston.info('No Authorization header in request!');\r\n  }\r\n\r\n  throw HttpResponseError.createUnauthorized();\r\n};\r\n\n\n\n// WEBPACK FOOTER //\n// ./lib/auth/expressAuthentication.ts","import * as winston from 'winston';\r\nimport wr from 'winston-transport-rollbar';\r\nimport { Config } from './config';\r\n\r\nexport function configureLogging() {\r\n  winston.configure({\r\n    exitOnError: false,\r\n    handleExceptions: true,\r\n    transports: [\r\n      new winston.transports.Console()\r\n    ]\r\n  });\r\n\r\n  // wr isn't anything because of the weird way this transport is designed, but we need to\r\n  // check for it to prevent webpack from tree-shaking :(\r\n  if (!wr && Config.activeStage() && Config.activeStage() !== 'dev') {\r\n    winston.add((winston.transports as any).Rollbar, {\r\n      rollbarAccessToken: 'cc75ab4c6093419aa3b026df58dc8996',\r\n      rollbarConfig: {\r\n        environment: Config.activeStage()\r\n      },\r\n      level: 'warn'\r\n    });\r\n  }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./lib/logging.ts","module.exports = require(\"winston-transport-rollbar\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"winston-transport-rollbar\"\n// module id = 44\n// module chunks = 0","module.exports = {\"basePath\":\"/\",\"consumes\":[\"application/json\"],\"definitions\":{\"AuthenticateResponse\":{\"properties\":{\"redirectURL\":{\"type\":\"string\"}},\"required\":[\"redirectURL\"],\"type\":\"object\"},\"SteamProfile\":{\"properties\":{\"steamid\":{\"type\":\"string\"},\"personaname\":{\"type\":\"string\"},\"profileurl\":{\"type\":\"string\"},\"avatar\":{\"type\":\"string\"},\"avatarmedium\":{\"type\":\"string\"},\"avatarfull\":{\"type\":\"string\"}},\"required\":[\"steamid\",\"personaname\",\"profileurl\",\"avatar\",\"avatarmedium\",\"avatarfull\"],\"type\":\"object\"},\"ValidateResponse\":{\"properties\":{\"token\":{\"type\":\"string\"},\"steamProfile\":{\"$ref\":\"#/definitions/SteamProfile\"}},\"required\":[\"token\",\"steamProfile\"],\"type\":\"object\"},\"GamePlayer\":{\"properties\":{\"steamId\":{\"type\":\"string\"},\"civType\":{\"type\":\"string\"},\"hasSurrendered\":{\"type\":\"boolean\"},\"turnsPlayed\":{\"type\":\"number\",\"format\":\"double\"},\"turnsSkipped\":{\"type\":\"number\",\"format\":\"double\"},\"timeTaken\":{\"type\":\"number\",\"format\":\"double\"},\"fastTurns\":{\"type\":\"number\",\"format\":\"double\"},\"slowTurns\":{\"type\":\"number\",\"format\":\"double\"}},\"required\":[\"steamId\",\"civType\"],\"type\":\"object\"},\"Game\":{\"properties\":{\"gameId\":{\"type\":\"string\"},\"createdBySteamId\":{\"type\":\"string\"},\"inProgress\":{\"type\":\"boolean\"},\"hashedPassword\":{\"type\":\"string\"},\"players\":{\"type\":\"array\",\"items\":{\"$ref\":\"#/definitions/GamePlayer\"}},\"discourseTopicId\":{\"type\":\"number\",\"format\":\"double\"},\"currentPlayerSteamId\":{\"type\":\"string\"},\"turnTimerMinutes\":{\"type\":\"number\",\"format\":\"double\"},\"round\":{\"type\":\"number\",\"format\":\"double\"},\"gameTurnRangeKey\":{\"type\":\"number\",\"format\":\"double\"},\"completed\":{\"type\":\"boolean\"},\"createdAt\":{\"type\":\"string\",\"format\":\"date-time\"},\"updatedAt\":{\"type\":\"string\",\"format\":\"date-time\"},\"version\":{\"type\":\"number\",\"format\":\"double\"},\"displayName\":{\"type\":\"string\"},\"description\":{\"type\":\"string\"},\"dlc\":{\"type\":\"array\",\"items\":{\"type\":\"string\"}},\"slots\":{\"type\":\"number\",\"format\":\"double\"},\"humans\":{\"type\":\"number\",\"format\":\"double\"},\"gameSpeed\":{\"type\":\"string\"},\"mapFile\":{\"type\":\"string\"},\"mapSize\":{\"type\":\"string\"},\"allowJoinAfterStart\":{\"type\":\"boolean\"}},\"required\":[\"gameId\",\"createdBySteamId\",\"players\",\"currentPlayerSteamId\",\"displayName\",\"description\",\"dlc\",\"slots\",\"humans\",\"gameSpeed\",\"mapFile\",\"mapSize\"],\"type\":\"object\"},\"ErrorResponse\":{\"properties\":{\"message\":{\"type\":\"string\"}},\"required\":[\"message\"],\"type\":\"object\"},\"ChangeCivRequestBody\":{\"properties\":{\"playerCiv\":{\"type\":\"string\"}},\"required\":[\"playerCiv\"],\"type\":\"object\"},\"CreateGameRequestBody\":{\"properties\":{\"player1Civ\":{\"type\":\"string\"},\"password\":{\"type\":\"string\"},\"displayName\":{\"type\":\"string\"},\"description\":{\"type\":\"string\"},\"dlc\":{\"type\":\"array\",\"items\":{\"type\":\"string\"}},\"slots\":{\"type\":\"number\",\"format\":\"double\"},\"humans\":{\"type\":\"number\",\"format\":\"double\"},\"gameSpeed\":{\"type\":\"string\"},\"mapFile\":{\"type\":\"string\"},\"mapSize\":{\"type\":\"string\"},\"allowJoinAfterStart\":{\"type\":\"boolean\"}},\"required\":[\"player1Civ\",\"password\",\"displayName\",\"description\",\"dlc\",\"slots\",\"humans\",\"gameSpeed\",\"mapFile\",\"mapSize\"],\"type\":\"object\"},\"GameRequestBody\":{\"properties\":{\"password\":{\"type\":\"string\"},\"displayName\":{\"type\":\"string\"},\"description\":{\"type\":\"string\"},\"dlc\":{\"type\":\"array\",\"items\":{\"type\":\"string\"}},\"slots\":{\"type\":\"number\",\"format\":\"double\"},\"humans\":{\"type\":\"number\",\"format\":\"double\"},\"gameSpeed\":{\"type\":\"string\"},\"mapFile\":{\"type\":\"string\"},\"mapSize\":{\"type\":\"string\"},\"allowJoinAfterStart\":{\"type\":\"boolean\"}},\"required\":[\"password\",\"displayName\",\"description\",\"dlc\",\"slots\",\"humans\",\"gameSpeed\",\"mapFile\",\"mapSize\"],\"type\":\"object\"},\"JoinGameRequestBody\":{\"properties\":{\"password\":{\"type\":\"string\"},\"playerCiv\":{\"type\":\"string\"}},\"required\":[\"password\",\"playerCiv\"],\"type\":\"object\"},\"OpenGamesResponse\":{\"properties\":{\"notStarted\":{\"type\":\"array\",\"items\":{\"$ref\":\"#/definitions/Game\"}},\"openSlots\":{\"type\":\"array\",\"items\":{\"$ref\":\"#/definitions/Game\"}}},\"required\":[\"notStarted\",\"openSlots\"],\"type\":\"object\"},\"SurrenderBody\":{\"properties\":{\"kickUserId\":{\"type\":\"string\"}},\"required\":[\"kickUserId\"],\"type\":\"object\"},\"GamesByUserResponse\":{\"properties\":{\"data\":{\"type\":\"array\",\"items\":{\"$ref\":\"#/definitions/Game\"}},\"pollUrl\":{\"type\":\"string\"}},\"required\":[\"data\",\"pollUrl\"],\"type\":\"object\"},\"User\":{\"properties\":{\"steamId\":{\"type\":\"string\"},\"displayName\":{\"type\":\"string\"},\"avatarSmall\":{\"type\":\"string\"},\"avatarMedium\":{\"type\":\"string\"},\"avatarFull\":{\"type\":\"string\"},\"emailAddress\":{\"type\":\"string\"},\"activeGameIds\":{\"type\":\"array\",\"items\":{\"type\":\"string\"}},\"inactiveGameIds\":{\"type\":\"array\",\"items\":{\"type\":\"string\"}},\"turnsPlayed\":{\"type\":\"number\",\"format\":\"double\"},\"turnsSkipped\":{\"type\":\"number\",\"format\":\"double\"},\"timeTaken\":{\"type\":\"number\",\"format\":\"double\"},\"fastTurns\":{\"type\":\"number\",\"format\":\"double\"},\"slowTurns\":{\"type\":\"number\",\"format\":\"double\"}},\"required\":[\"steamId\",\"displayName\",\"avatarSmall\",\"avatarMedium\",\"avatarFull\",\"emailAddress\",\"activeGameIds\",\"inactiveGameIds\",\"turnsPlayed\",\"turnsSkipped\",\"timeTaken\",\"fastTurns\",\"slowTurns\"],\"type\":\"object\"},\"SetNotificationEmailBody\":{\"properties\":{\"emailAddress\":{\"type\":\"string\"}},\"required\":[\"emailAddress\"],\"type\":\"object\"}},\"info\":{\"title\":\"serverless-api\",\"version\":\"1.0.0\"},\"paths\":{\"/auth/steam\":{\"get\":{\"operationId\":\"AuthAuthenticate\",\"produces\":[\"application/json\"],\"responses\":{\"200\":{\"description\":\"Ok\",\"schema\":{\"$ref\":\"#/definitions/AuthenticateResponse\"}}},\"security\":[],\"parameters\":[]}},\"/auth/steam/validate\":{\"get\":{\"operationId\":\"AuthValidate\",\"produces\":[\"application/json\"],\"responses\":{\"200\":{\"description\":\"Ok\",\"schema\":{\"$ref\":\"#/definitions/ValidateResponse\"}}},\"security\":[],\"parameters\":[]}},\"/game/{gameId}/changeCiv\":{\"post\":{\"operationId\":\"GameChangeCiv\",\"produces\":[\"application/json\"],\"responses\":{\"200\":{\"description\":\"Ok\",\"schema\":{\"$ref\":\"#/definitions/Game\"}},\"401\":{\"description\":\"Unauthorized\",\"schema\":{\"$ref\":\"#/definitions/ErrorResponse\"}}},\"security\":[{\"api_key\":[]}],\"parameters\":[{\"in\":\"path\",\"name\":\"gameId\",\"required\":true,\"type\":\"string\"},{\"in\":\"body\",\"name\":\"body\",\"required\":true,\"schema\":{\"$ref\":\"#/definitions/ChangeCivRequestBody\"}}]}},\"/game/create\":{\"post\":{\"operationId\":\"GameCreate\",\"produces\":[\"application/json\"],\"responses\":{\"200\":{\"description\":\"Ok\",\"schema\":{\"$ref\":\"#/definitions/Game\"}},\"401\":{\"description\":\"Unauthorized\",\"schema\":{\"$ref\":\"#/definitions/ErrorResponse\"}}},\"security\":[{\"api_key\":[]}],\"parameters\":[{\"in\":\"body\",\"name\":\"body\",\"required\":true,\"schema\":{\"$ref\":\"#/definitions/CreateGameRequestBody\"}}]}},\"/game/{gameId}/delete\":{\"post\":{\"operationId\":\"GameDelete\",\"produces\":[\"application/json\"],\"responses\":{\"204\":{\"description\":\"No content\"},\"401\":{\"description\":\"Unauthorized\",\"schema\":{\"$ref\":\"#/definitions/ErrorResponse\"}}},\"security\":[{\"api_key\":[]}],\"parameters\":[{\"in\":\"path\",\"name\":\"gameId\",\"required\":true,\"type\":\"string\"}]}},\"/game/{gameId}/edit\":{\"post\":{\"operationId\":\"GameEdit\",\"produces\":[\"application/json\"],\"responses\":{\"200\":{\"description\":\"Ok\",\"schema\":{\"$ref\":\"#/definitions/Game\"}},\"401\":{\"description\":\"Unauthorized\",\"schema\":{\"$ref\":\"#/definitions/ErrorResponse\"}}},\"security\":[{\"api_key\":[]}],\"parameters\":[{\"in\":\"path\",\"name\":\"gameId\",\"required\":true,\"type\":\"string\"},{\"in\":\"body\",\"name\":\"body\",\"required\":true,\"schema\":{\"$ref\":\"#/definitions/GameRequestBody\"}}]}},\"/game/{gameId}/join\":{\"post\":{\"operationId\":\"GameJoin\",\"produces\":[\"application/json\"],\"responses\":{\"200\":{\"description\":\"Ok\",\"schema\":{\"$ref\":\"#/definitions/Game\"}},\"401\":{\"description\":\"Unauthorized\",\"schema\":{\"$ref\":\"#/definitions/ErrorResponse\"}}},\"security\":[{\"api_key\":[]}],\"parameters\":[{\"in\":\"path\",\"name\":\"gameId\",\"required\":true,\"type\":\"string\"},{\"in\":\"body\",\"name\":\"body\",\"required\":true,\"schema\":{\"$ref\":\"#/definitions/JoinGameRequestBody\"}}]}},\"/game/{gameId}/leave\":{\"post\":{\"operationId\":\"GameLeave\",\"produces\":[\"application/json\"],\"responses\":{\"200\":{\"description\":\"Ok\",\"schema\":{\"$ref\":\"#/definitions/Game\"}},\"401\":{\"description\":\"Unauthorized\",\"schema\":{\"$ref\":\"#/definitions/ErrorResponse\"}}},\"security\":[{\"api_key\":[]}],\"parameters\":[{\"in\":\"path\",\"name\":\"gameId\",\"required\":true,\"type\":\"string\"}]}},\"/game/listOpen\":{\"get\":{\"operationId\":\"GameListOpen\",\"produces\":[\"application/json\"],\"responses\":{\"200\":{\"description\":\"Ok\",\"schema\":{\"$ref\":\"#/definitions/OpenGamesResponse\"}},\"401\":{\"description\":\"Unauthorized\",\"schema\":{\"$ref\":\"#/definitions/ErrorResponse\"}}},\"security\":[],\"parameters\":[]}},\"/game/{gameId}/start\":{\"post\":{\"operationId\":\"GameStart\",\"produces\":[\"application/json\"],\"responses\":{\"200\":{\"description\":\"Ok\",\"schema\":{\"$ref\":\"#/definitions/Game\"}},\"401\":{\"description\":\"Unauthorized\",\"schema\":{\"$ref\":\"#/definitions/ErrorResponse\"}}},\"security\":[{\"api_key\":[]}],\"parameters\":[{\"in\":\"path\",\"name\":\"gameId\",\"required\":true,\"type\":\"string\"}]}},\"/game/{gameId}/surrender\":{\"post\":{\"operationId\":\"GameSurrender\",\"produces\":[\"application/json\"],\"responses\":{\"200\":{\"description\":\"Ok\",\"schema\":{\"$ref\":\"#/definitions/Game\"}},\"401\":{\"description\":\"Unauthorized\",\"schema\":{\"$ref\":\"#/definitions/ErrorResponse\"}}},\"security\":[{\"api_key\":[]}],\"parameters\":[{\"in\":\"path\",\"name\":\"gameId\",\"required\":true,\"type\":\"string\"},{\"in\":\"body\",\"name\":\"body\",\"required\":true,\"schema\":{\"$ref\":\"#/definitions/SurrenderBody\"}}]}},\"/game/{gameId}\":{\"get\":{\"operationId\":\"GameGet\",\"produces\":[\"application/json\"],\"responses\":{\"200\":{\"description\":\"Ok\",\"schema\":{\"$ref\":\"#/definitions/Game\"}}},\"security\":[],\"parameters\":[{\"in\":\"path\",\"name\":\"gameId\",\"required\":true,\"type\":\"string\"}]}},\"/user/games\":{\"get\":{\"operationId\":\"UserGames\",\"produces\":[\"application/json\"],\"responses\":{\"200\":{\"description\":\"Ok\",\"schema\":{\"$ref\":\"#/definitions/GamesByUserResponse\"}},\"401\":{\"description\":\"Unauthorized\",\"schema\":{\"$ref\":\"#/definitions/ErrorResponse\"}}},\"security\":[{\"api_key\":[]}],\"parameters\":[]}},\"/user/\":{\"get\":{\"operationId\":\"UserAll\",\"produces\":[\"application/json\"],\"responses\":{\"200\":{\"description\":\"Ok\",\"schema\":{\"type\":\"array\",\"items\":{\"$ref\":\"#/definitions/User\"}}},\"401\":{\"description\":\"Unauthorized\",\"schema\":{\"$ref\":\"#/definitions/ErrorResponse\"}}},\"security\":[{\"api_key\":[]}],\"parameters\":[]}},\"/user/getCurrent\":{\"get\":{\"operationId\":\"UserGetCurrent\",\"produces\":[\"application/json\"],\"responses\":{\"200\":{\"description\":\"Ok\",\"schema\":{\"$ref\":\"#/definitions/User\"}},\"401\":{\"description\":\"Unauthorized\",\"schema\":{\"$ref\":\"#/definitions/ErrorResponse\"}}},\"security\":[{\"api_key\":[]}],\"parameters\":[]}},\"/user/setNotificationEmail\":{\"post\":{\"operationId\":\"UserSetNotificationEmail\",\"produces\":[\"application/json\"],\"responses\":{\"200\":{\"description\":\"Ok\",\"schema\":{\"$ref\":\"#/definitions/User\"}},\"401\":{\"description\":\"Unauthorized\",\"schema\":{\"$ref\":\"#/definitions/ErrorResponse\"}}},\"security\":[{\"api_key\":[]}],\"parameters\":[{\"in\":\"body\",\"name\":\"body\",\"required\":true,\"schema\":{\"$ref\":\"#/definitions/SetNotificationEmailBody\"}}]}},\"/user/steamProfile\":{\"get\":{\"operationId\":\"UserSteamProfile\",\"produces\":[\"application/json\"],\"responses\":{\"200\":{\"description\":\"Ok\",\"schema\":{\"$ref\":\"#/definitions/SteamProfile\"}},\"401\":{\"description\":\"Unauthorized\",\"schema\":{\"$ref\":\"#/definitions/ErrorResponse\"}}},\"security\":[{\"api_key\":[]}],\"parameters\":[]}},\"/user/steamProfiles\":{\"get\":{\"operationId\":\"UserSteamProfiles\",\"produces\":[\"application/json\"],\"responses\":{\"200\":{\"description\":\"Ok\",\"schema\":{\"type\":\"array\",\"items\":{\"$ref\":\"#/definitions/SteamProfile\"}}},\"401\":{\"description\":\"Unauthorized\",\"schema\":{\"$ref\":\"#/definitions/ErrorResponse\"}}},\"security\":[],\"parameters\":[{\"in\":\"query\",\"name\":\"steamIds\",\"required\":true,\"type\":\"string\"}]}},\"/user/{steamId}\":{\"get\":{\"operationId\":\"UserById\",\"produces\":[\"application/json\"],\"responses\":{\"200\":{\"description\":\"Ok\",\"schema\":{\"$ref\":\"#/definitions/User\"}}},\"security\":[],\"parameters\":[{\"in\":\"path\",\"name\":\"steamId\",\"required\":true,\"type\":\"string\"}]}},\"/users/\":{\"get\":{\"operationId\":\"UsersAll\",\"produces\":[\"application/json\"],\"responses\":{\"200\":{\"description\":\"Ok\",\"schema\":{\"type\":\"array\",\"items\":{\"$ref\":\"#/definitions/User\"}}},\"401\":{\"description\":\"Unauthorized\",\"schema\":{\"$ref\":\"#/definitions/ErrorResponse\"}}},\"security\":[],\"parameters\":[]}}},\"produces\":[\"application/json\"],\"swagger\":\"2.0\",\"securityDefinitions\":{\"api_key\":{\"type\":\"apiKey\",\"name\":\"Authorization\",\"in\":\"header\"},\"basic_auth_internal\":{\"type\":\"basic\"}},\"host\":\"localhost:3000\"}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./api/_gen/swagger/swagger.json\n// module id = 45\n// module chunks = 0"],"sourceRoot":""}